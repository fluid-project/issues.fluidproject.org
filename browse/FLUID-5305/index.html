<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5305  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5305 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5305/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5305/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5305/">FLUID-5305</a></li>
            </ol>
        </nav>
        <h1>FLUID-5305: Provide better diagnostics in the case of runaway component instantiation recursion</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5305">FLUID-5305</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Improvement">Improvement</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2014-04-09T00:11:02.781-0400" prefix="">2014-04-09T00:11:02.781-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-04-09T00:11:49.832-0400" prefix="">2014-04-09T00:11:49.832-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Right now it is relatively easy to designate a component which appears as a subcomponent of itself - for example, the following definition appeared during the development of the ontology server for the GPII - </p>
<p>fluid.defaults("gpii.ontologyHandler", {<br>
gradeNames: ["fluid.littleComponent", "autoInit"],<br>
.... <br>
ontologyHandler: {<br>
type: "gpii.ontologyHandler"<br>
}<br>
},<br>
.... <br>
});</p>
<p>Currently the framework accepts these kinds of definitions and tries to instantiate an indefinite number of components as a result. There isn't any visible diagnostic and the user symptoms are a hung process. Unfortunately the current "overflow detection" that we have in both the merging and expansion pathways can't spot this kind of runaway since each instantiated component is individually small. The simplest fix would be to just statically apply the current fluid.strategyRecursionBailout limit (currently 50) to component instantiation depth also. It's barely conceivable that genuine trees of great depth might arise, especially when the new renderer is implemented. In that case it's possible that when <a href="/browse/FLUID-5304/">FLUID-5304</a> is implemented we could use the "shape analysis" system to statically detect this kind of fault at the point of issue (or at least after only 2 components have been instantiated) and so bail out much earlier and without the need for a static limit.</p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5304/"><span class="aria-hidden">←</span> Previous: FLUID-5304</a>
        <a class="mx-1" href="/browse/FLUID-5306/">Next: FLUID-5306 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>