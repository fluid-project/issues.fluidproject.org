<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> KETTLE-21  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" KETTLE-21 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/KETTLE-21/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/KETTLE-21/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/KETTLE" data-pagefind-filter="project">Kettle</a></li>
                <li><a href="/browse/KETTLE-21/">KETTLE-21</a></li>
            </ol>
        </nav>
        <h1>KETTLE-21: Review and improve CORS support for flexibility and security issues</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/KETTLE-21">KETTLE-21</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/KETTLE/?type=Improvement">Improvement</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/KETTLE/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2014-01-13T22:43:09.364-0500" prefix="">2014-01-13T22:43:09.364-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-01-13T22:43:09.364-0500" prefix="">2014-01-13T22:43:09.364-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Today we committed an early implementation of CORS support at <a href="https://github.com/fluid-project/kettle/pull/9">https://github.com/fluid-project/kettle/pull/9</a> under <a href="http://issues.gpii.net/browse/GPII-515">http://issues.gpii.net/browse/GPII-515</a> which was necessary to assure basic communications between the PCP and PMT preference management tools being demonstrated at the EU meeting this week.</p>
<p>However, this implementation has clear limitations regarding configurability and almost certainly exposes applications to undesirable security risks. For example, the origin detection policy (currently middleware.js line 171)</p>
<p>origin === "*" || origin.indexOf(reqOrigin) &gt; -1 ? reqOrigin :</p>
<p>is very crude, and there is the more serious limitation that CORS must be enabled on an entire Kettle app instead of on a single handler as would be consistent with minimising exposure.</p>
<p>We should also take the opportunity to deploy REAL tests of CORS (that is, those involving a real browser as client) since as we discovered this week, our "notional" tests which only verify the presence of various headers are deficient in assuring real behaviour. This would be done using phantomjs or a similar package.</p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/KETTLE-20/"><span class="aria-hidden">←</span> Previous: KETTLE-20</a>
        <a class="mx-1" href="/browse/KETTLE-22/">Next: KETTLE-22 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>