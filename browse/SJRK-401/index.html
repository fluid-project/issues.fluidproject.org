<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> SJRK-401  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" SJRK-401 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/SJRK-401/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/SJRK-401/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/SJRK" data-pagefind-filter="project">Social Justice Repair Kit</a></li>
                <li><a href="/browse/SJRK-401/">SJRK-401</a></li>
            </ol>
        </nav>
        <h1>SJRK-401: Decouple call to resetUploadState function</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/SJRK-401">SJRK-401</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/SJRK/?type=Improvement">Improvement</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/SJRK/?reporter=Gregor%20Moss">Gregor Moss</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2020-10-20T21:10:21.245-0400" prefix="">2020-10-20T21:10:21.245-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2020-10-21T08:50:05.353-0400" prefix="">2020-10-21T08:50:05.353-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The call to&#160;singleFileUploader.resetUploadState() by the storyEditor on block removal is too tightly coupled with the singleFileUploader grade. Reconfigure this section of the code to be less "aware" of the way the uploader tracks its state.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// If it's a media block, reset its uploadState before removing</span>
<span class="hljs-keyword">if</span> (managedComponent.<span class="hljs-property">singleFileUploader</span>) {
    managedComponent.<span class="hljs-property">singleFileUploader</span>.<span class="hljs-title function_">resetUploadState</span>();
}
</code></pre>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-26585">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2020-10-21T08:50:05.353-0400">2020-10-21T08:50:05.353-0400</relative-time></i></p>
                        <p>It would be preferable to not call managedComponent.singleFileUploader.resetUploadState() directly as noted in the description. A better option would be to have resetUploadState functionality triggered by the onDestroy method of the related component. However there is currently an issue in the framework that prevents this (see: <a href="/browse/FLUID-6558/">FLUID-6558</a>). This has also been further discussed in comments of <a href="/browse/SJRK-400/">SJRK-400</a></p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/SJRK-400/"><span class="aria-hidden">←</span> Previous: SJRK-400</a>
        <a class="mx-1" href="/browse/SJRK-402/">Next: SJRK-402 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>