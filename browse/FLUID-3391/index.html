<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-3391  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-3391 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-3391/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-3391/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-3391/">FLUID-3391</a></li>
            </ol>
        </nav>
        <h1>FLUID-3391: The wrapping of selection and reordering items via keyboard should be configurable</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-3391">FLUID-3391</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Justin Obara</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-11-26T15:42:32.000-0500" prefix="">2009-11-26T15:42:32.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2010-11-08T04:28:51.252-0500" prefix="">2010-11-08T04:28:51.252-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.2</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Reorderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The wrapping of selection and reordering items via keyboard should be configurable</p>
<p>Some users, for example those using AT's, may not want reorderer to wrap around. Currently if you move an item down it will wrap to the top after reaching the end. This may make it difficult for some users to know what the boundaries are.</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/20100105_wrappingSwitch.patch">
                            
                                20100105_wrappingSwitch.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.patch">
                            
                                FLUID-3391.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v10.patch">
                            
                                FLUID-3391.v10.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v11.patch">
                            
                                FLUID-3391.v11.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v12.patch">
                            
                                FLUID-3391.v12.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v2.patch">
                            
                                FLUID-3391.v2.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v3.patch">
                            
                                FLUID-3391.v3.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v4.patch">
                            
                                FLUID-3391.v4.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v5.patch">
                            
                                FLUID-3391.v5.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v6.patch">
                            
                                FLUID-3391.v6.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v7.patch">
                            
                                FLUID-3391.v7.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v8.patch">
                            
                                FLUID-3391.v8.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3391/FLUID-3391.v9.patch">
                            
                                FLUID-3391.v9.patch
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-23324">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2010-03-30T19:24:47.000-0400">2010-03-30T19:24:47.000-0400</relative-time></i></p>
                        <p>This will be a critical fix for future versions of Decapod, as well as being a great a11y improvement. I've assigned it to Jonathan to help coordinate it with Decapod.</p>

                    </li>
                    
                    <li id="comment-23325">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-05-07T14:00:53.712-0400">2010-05-07T14:00:53.712-0400</relative-time></i></p>
                        <p>a11y issue</p>

                    </li>
                    
                    <li id="comment-23326">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-09-17T11:13:13.035-0400">2010-09-17T11:13:13.035-0400</relative-time></i></p>
                        <p>Link to conversations from the fluid-work mailing list<br>
<a href="http://old.nabble.com/Wrapping-around-in-ListReorderer-to26634522.html#a26750933">http://old.nabble.com/Wrapping-around-in-ListReorderer-to26634522.html#a26750933</a></p>

                    </li>
                    
                    <li id="comment-23327">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-10-04T15:24:30.330-0400">2010-10-04T15:24:30.330-0400</relative-time></i></p>
                        <p>"Bug Parade Infusion 1.3"</p>

                    </li>
                    
                    <li id="comment-23328">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-10-21T17:07:22.347-0400">2010-10-21T17:07:22.347-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>: <a href="/browse/FLUID-3391/">FLUID-3391</a>.patch gives the user the ability to turn on and off elements wrapping via keyboard.</p>

                    </li>
                    
                    <li id="comment-23329">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-10-22T11:30:24.429-0400">2010-10-22T11:30:24.429-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>: <a href="/browse/FLUID-3391/">FLUID-3391</a>.v2.patch made some code changes. Also it includes everything from <a href="/browse/FLUID-3391/">FLUID-3391</a>.patch.</p>

                    </li>
                    
                    <li id="comment-23330">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-10-22T12:14:07.347-0400">2010-10-22T12:14:07.347-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v3.patch made some code changes. Includes everything from previous patches.</p>

                    </li>
                    
                    <li id="comment-23331">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-10-22T13:50:39.067-0400">2010-10-22T13:50:39.067-0400</relative-time></i></p>
                        <p>Hi Golam - this patch is pretty good and addresses the more difficult part of the problem, which is modifying the geometric strategies to account for wrap locking. However, in our original implementation it was revealed that a lot of subtle bugs can result from trying to use a Geometric strategy in the "covariant" direction of the Reorderer, that is, the direction specified as the dominant orientation in the top-level configuration. So what needs to be done is to create a "disableWrap" version of the logical strategy to be used in this case - so, for example, on this section of the patch for Reorderer.js</p>
<p>-675,7 +684,7</p>
<p>that.getRelativePosition = <br>
fluid.reorderer.relativeInfoGetter(options.orientation, </p>
<ul>
<li>                fluid.reorderer.LOGICAL_STRATEGY, fluid.reorderer.SHUFFLE_GEOMETRIC_STRATEGY, <br>
+                 dropManager.disableWrap ? fluid.reorderer.SHUFFLE_GEOMETRIC_STRATEGY : fluid.reorderer.LOGICAL_STRATEGY   , fluid.reorderer.SHUFFLE_GEOMETRIC_STRATEGY, <br>
                  dropManager, dom);</li>
</ul>
<p>you subsitute a goemetric strategy for the logical strategy in the case of disableWrap which will cause problems.</p>
<p>So, what the implementation requires is a modification of the getRelativeElement function (currently on line 455 of GeometricManager.js) to have signature</p>
<p>function getRelativeElement(element, direction, elements, disableWrap) {</p>
<p>Although I said on our phone chat that we might want to create new versions of all the strategies, I am thinking now this is probably rather silly. What there should be instead is a modification of all of the signatures of the existing strategies - so that we now have</p>
<p>that.logicalFrom = function (element, direction, includeLocked, disableWrap)<br>
that.lockedWrapFrom = function (element, direction, includeLocked, disableWrap)<br>
etc.</p>
<p>since actually EVERY strategy we have currently can be varied in this way.</p>
<p>I couldn't see from your patch how it set about disabling wrapping for the ListReorderer - the "disableWrap" argument is present as configuration, and handed down to the dropManager - but as it stands now, the logicalFrom strategy would still perform wrapping? Which configurations of the Reorderer did you test your patch with?</p>
<p>Also, I don't believe we want this new behaviour to become the default - we can't change the behaviour of all reorderers for all existing users.</p>
<p>Also I want to query the subtask I see on this issue "Turning wrapping on/off via a function call after initialization" - what is motivating this task?</p>

                    </li>
                    
                    <li id="comment-23332">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-10-27T11:31:22.904-0400">2010-10-27T11:31:22.904-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>: <a href="/browse/FLUID-3391/">FLUID-3391</a>.v4.patch contains all the changes from v1-v3 patches and necessary test cases. Note: still in process of refactoring some of the test cases </p>

                    </li>
                    
                    <li id="comment-23333">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-10-28T18:09:01.857-0400">2010-10-28T18:09:01.857-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v5.patch which contains everything from previous versions including test cases which was re-factored. </p>

                    </li>
                    
                    <li id="comment-23334">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-10-29T15:22:22.418-0400">2010-10-29T15:22:22.418-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v6.patch which contains everything from previous versions including test cases which was re-factored. </p>

                    </li>
                    
                    <li id="comment-23335">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-11-01T15:07:32.200-0400">2010-11-01T15:07:32.200-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v7.patch which contains everything from previous versions and re-factor of codes.</p>

                    </li>
                    
                    <li id="comment-23336">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-11-01T16:36:13.584-0400">2010-11-01T16:36:13.584-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v8.patch contains all changes from previous versions.</p>

                    </li>
                    
                    <li id="comment-23337">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-11-01T17:37:47.472-0400">2010-11-01T17:37:47.472-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v9.patch contains everything from previous versions.</p>

                    </li>
                    
                    <li id="comment-23338">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-11-02T16:08:45.002-0400">2010-11-02T16:08:45.002-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v10.patch contains everything from previous versions and re-factored codes.</p>

                    </li>
                    
                    <li id="comment-23339">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-11-04T04:42:31.254-0400">2010-11-04T04:42:31.254-0400</relative-time></i></p>
                        <p>Hi golam - my suggestion for patch "10" is that it should be possible to make a better consolidation of the three "step" test functions than "commonAction". These functions overall all take the same arguments, and the points of variability are <br>
i) the different markup selected for "focusItem" which could be supplied as a function handle, ii) the different argument to bindReorderer, and iii) the difference in the precise method of simulating the keypress - which I'm not actually sure why this varies - why does moduleLayout use compositeKey and the other two use arg.key (ctrlKeyEvent) - would it be possible to consolidate these also?</p>
<p>A suitable signature might be <br>
fluid.testUtils.reorderer.stepReorderer(container, options) where options contains <br>
{ <br>
reordererFn<br>
reordererOptions<br>
direction<br>
expectOrderFn<br>
expectedOrderArrays<br>
focusElementFn</p>
<p>you can then use fluid.invokeGlobalFunction(options.reordererFn, [container, options.reordererOptions]) to construct the reorderer etc.<br>
then options.expectOrderFn(that, expectedOrderArrays[etc.]</p>

                    </li>
                    
                    <li id="comment-23340">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-11-04T18:07:51.722-0400">2010-11-04T18:07:51.722-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v11.patch contains everything from previous patches and some re-factored codes. </p>

                    </li>
                    
                    <li id="comment-23341">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-11-05T05:11:31.783-0400">2010-11-05T05:11:31.783-0400</relative-time></i></p>
                        <p>Hi there Golam - v11 of the patch looks good. Just to tidy up i) since just one function call now exists to "commonAction" it should simply be folded into the main body of the caller, especially since it has no particularly well-defined function of its own, ii) please ensure that all tabs are converted to spaces in the patch (see if someone can help you out with Eclipse/Aptana settings) and then we can get the patch committed - thanks for all your hard work on this, Antranig.</p>

                    </li>
                    
                    <li id="comment-23342">
                        <p class="mb-0"><b>Golam Chowdhury</b> <i>commented <relative-time datetime="2010-11-05T11:33:00.188-0400">2010-11-05T11:33:00.188-0400</relative-time></i></p>
                        <p><a href="/browse/FLUID-3391/">FLUID-3391</a>.v12.patch contains everything from previous patches and some code cleanup with JSLint.</p>

                    </li>
                    
                    <li id="comment-23343">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-11-08T04:28:51.030-0500">2010-11-08T04:28:51.030-0500</relative-time></i></p>
                        <p>Committed at revision 10190</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-3390/"><span class="aria-hidden">←</span> Previous: FLUID-3390</a>
        <a class="mx-1" href="/browse/FLUID-3395/">Next: FLUID-3395 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>