<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4861  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4861 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4861/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4861/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4861/">FLUID-4861</a></li>
            </ol>
        </nav>
        <h1>FLUID-4861: Invokers are getting created even if they are not set in the component configuration</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4861">FLUID-4861</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Alexey%20Novak">Alexey Novak</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2012-12-07T13:10:20.527-0500" prefix="">2012-12-07T13:10:20.527-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2022-07-15T06:14:26.416-0400" prefix="">2022-07-15T06:14:26.416-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Framework</li>
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Invokers are get assigned to </p>
<pre><code class="hljs language-java">function() {
            <span class="hljs-type">var</span> <span class="hljs-variable">args</span> <span class="hljs-operator">=</span> fluid.makeArray(arguments);
            <span class="hljs-comment">// <a href="/browse/FLUID-4712/">FLUID-4712</a>: properly contextualise invoker so that any new constructions are not corrupted</span>
            <span class="hljs-keyword">return</span> fluid.withInstantiator(that, function(instantiator) {
                <span class="hljs-type">var</span> <span class="hljs-variable">invokeSpec</span> <span class="hljs-operator">=</span> fluid.embodyDemands(instantiator, that, demandspec, args, {passArgs: <span class="hljs-literal">true</span>});
                <span class="hljs-keyword">return</span> fluid.invokeGlobalFunction(invokeSpec.funcName, invokeSpec.args, environment);
            }, [<span class="hljs-string">"    while invoking invoker with name "</span> + functionName + <span class="hljs-string">" on component"</span>, that], userInstantiator);
        }
</code></pre>
<p>If they are assigned to null in the configuration of the component which can potentially cause a JavaScript error if developer will try to call them in the finalInit.</p>
<p>I created a branch which has the test for this issue: <a href="https://github.com/anvk/infusion/tree/FLUID-4861">https://github.com/anvk/infusion/tree/FLUID-4861</a><br>
Test file to run is: infusion/src/webapp/tests/framework-tests/core/html/FluidIoC-test.html</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-13346">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2012-12-11T23:32:27.877-0500">2012-12-11T23:32:27.877-0500</relative-time></i></p>
                        <p>Thanks, Alexey - this is indeed a kind of bug in that the framework behaviour is not entirely helpful. However, this highlights the design issue that invokers are primarily designed to cover cases where there is definitely exactly one implementation intended to cover the operation. In the case where the multiplicity of implementations might vary (including varying to zero as you have in this report), it is more appropriate to use a Fluid event to define the operation rather than an invoker. We should definitely fix the issue you have reported, but I think it is of relatively low priority given that the use of an undefined invoker (null) represents a non-ideal use of the framework.</p>
<p>Until the issue is fixed properly, you can work around it by assigning the invoker to the "do-nothing" function fluid.identity rather than to null.</p>

                    </li>
                    
                    <li id="comment-13348">
                        <p class="mb-0"><b>Alexey Novak</b> <i>commented <relative-time datetime="2012-12-12T09:00:12.894-0500">2012-12-12T09:00:12.894-0500</relative-time></i></p>
                        <p>Thanks for such a detailed reply Antranig. I will try to use fluid.identity in the meantime and maybe even rethink the structure of the component I have.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4852/"><span class="aria-hidden">←</span> Previous: FLUID-4852</a>
        <a class="mx-1" href="/browse/FLUID-4869/">Next: FLUID-4869 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>