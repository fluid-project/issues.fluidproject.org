<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-3821  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-3821 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-3821/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-3821/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-3821/">FLUID-3821</a></li>
            </ol>
        </nav>
        <h1>FLUID-3821: Refactor inline edit code to give users more control over display and edit mode rendering</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-3821">FLUID-3821</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Task">Task</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Mike Lam</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2010-11-01T13:52:43.901-0400" prefix="">2010-11-01T13:52:43.901-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2010-11-30T15:34:36.047-0500" prefix="">2010-11-30T15:34:36.047-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Inline Edit</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>A new display mode renderer function should be added. It and the current edit mode renderer should be factored as template functions that call other public functions to set up the display and edit modes. These other functions should also be public.</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/comments.txt">
                            
                                comments.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/comments2.txt">
                            
                                comments2.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/commentsMoreDetailed.txt">
                            
                                commentsMoreDetailed.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/cssBackgroundImage.txt">
                            
                                cssBackgroundImage.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/cssStyleCleanup.txt">
                            
                                cssStyleCleanup.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/cssStyleCleanup-2.patch.txt">
                            
                                cssStyleCleanup-2.patch.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/FLUID-3821-codeRefactoring.patch">
                            
                                FLUID-3821-codeRefactoring.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/patch.txt">
                            
                                patch.txt
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3821/patchRefactored.txt">
                            
                                patchRefactored.txt
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-24751">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-11-01T13:55:42.829-0400">2010-11-01T13:55:42.829-0400</relative-time></i></p>
                        <p>"Bug Parade Infusion 1.3"</p>

                    </li>
                    
                    <li id="comment-24752">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-01T16:58:52.124-0400">2010-11-01T16:58:52.124-0400</relative-time></i></p>
                        <p>Refactored majority of code base into smaller, more dedicated functions.</p>

                    </li>
                    
                    <li id="comment-24753">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-02T12:37:50.094-0400">2010-11-02T12:37:50.094-0400</relative-time></i></p>
                        <p>Refactored code to pass unit tests in IE8.</p>

                    </li>
                    
                    <li id="comment-24754">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-11-02T14:27:20.624-0400">2010-11-02T14:27:20.624-0400</relative-time></i></p>
                        <p>Committed Mike's patch ( patchRefactored.txt ), which refactors the inline edit code, fixes the icons used, and updates the default style used for Simple text inlineEdit. Made small change to update the copyright info on a couple of the js files.</p>

                    </li>
                    
                    <li id="comment-24755">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-04T15:15:11.290-0400">2010-11-04T15:15:11.290-0400</relative-time></i></p>
                        <p>Add comments to public functions.  Rename instructionText variables.</p>

                    </li>
                    
                    <li id="comment-24756">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-04T16:49:40.373-0400">2010-11-04T16:49:40.373-0400</relative-time></i></p>
                        <p>Made more commenting changes after some review.</p>

                    </li>
                    
                    <li id="comment-24757">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-08T11:17:27.161-0500">2010-11-08T11:17:27.161-0500</relative-time></i></p>
                        <p>Incorporate a background image in the css for the textEditButton.   This eliminates an API change and doesn't require an integrator to provide an image option each time the component is instantiated.  </p>

                    </li>
                    
                    <li id="comment-24758">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-09T10:11:43.697-0500">2010-11-09T10:11:43.697-0500</relative-time></i></p>
                        <p>CSS styles clean up.</p>

                    </li>
                    
                    <li id="comment-24759">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-11-09T14:22:42.383-0500">2010-11-09T14:22:42.383-0500</relative-time></i></p>
                        <p>Attached patch cssStyleCleanup-2.patch.txt which contains modified styles that I worked with James on to prevent the display from jumping when switching between modes. Also worked with Mike to make some slight modifications to the default style options for the component.</p>

                    </li>
                    
                    <li id="comment-24760">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-11-09T14:48:48.166-0500">2010-11-09T14:48:48.166-0500</relative-time></i></p>
                        <p>Committed cssStyleCleanup-2.patch.txt with a minor css change to remove a couple of unneeded properties and added a copyright to the integrations file</p>

                    </li>
                    
                    <li id="comment-24761">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-09T15:32:07.828-0500">2010-11-09T15:32:07.828-0500</relative-time></i></p>
                        <p>Control textEditButton focus</p>

                    </li>
                    
                    <li id="comment-24762">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-11-10T12:04:56.089-0500">2010-11-10T12:04:56.089-0500</relative-time></i></p>
                        <p>Moved the textEditButtonFocus.txt patch to the <a href="/browse/FLUID-2652/">FLUID-2652</a></p>

                    </li>
                    
                    <li id="comment-24763">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2010-11-23T15:57:46.127-0500">2010-11-23T15:57:46.127-0500</relative-time></i></p>
                        <p>There are several small cleanup things that should be done before we close this issue. </p>

                    </li>
                    
                    <li id="comment-24764">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2010-11-23T15:58:49.398-0500">2010-11-23T15:58:49.398-0500</relative-time></i></p>
                        <p>I've complete a code review on this refactoring. There are several small things that should be done to clean up the code base.</p>
<p>1)  The tests have a lot of repeated setup code. Perhaps we should create a setup function for these tests to remove the repetition. <br>
2)  showDefaultViewText contains a line that does nothing and should be removed (line 199) <br>
3)  setupTooltipTitle is a single line function and the implementation can be simplified. There is no need to wrap the element since the function is always passed a jquery object. Perhaps we should remove the function and set the title inline instead. (line 271)<br>
4) setupDisplayView is a confusing name since we also have a 'displayView' subcomponent that refers to something else. This is in the public API so we do need to be careful with what we name it. (line 337)<br>
5) It seems that the richTextViewAccessor should be moved into the integrations file. (line 766)<br>
6) renderKeyboardTooltip was renamed to be editModeInstruction but a couple references are still in the Integrations file (line 242)         </p>

                    </li>
                    
                    <li id="comment-24765">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2010-11-23T16:09:40.678-0500">2010-11-23T16:09:40.678-0500</relative-time></i></p>
                        <p>Making this issue a blocker since it didn't pass code review and the code is already in trunk. </p>

                    </li>
                    
                    <li id="comment-24766">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-30T12:44:52.608-0500">2010-11-30T12:44:52.608-0500</relative-time></i></p>
                        <p>Code refactoring:  </p>
<ul>
<li>moved richTextViewAccessor from the simple inline edit into the integrations.  </li>
<li>removed setupTooltipTitle function and all calls to it</li>
<li>renamed setupDisplayView function to setupDisplayText</li>
<li>removed all references to keyboard tooltip option that no longer exists in the integrations </li>
</ul>

                    </li>
                    
                    <li id="comment-24767">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2010-11-30T15:28:34.288-0500">2010-11-30T15:28:34.288-0500</relative-time></i></p>
                        <p>Mike and I talked about the refactoring notes I had put on this issue - here are our notes: </p>
<p>After looking into the tests, he found that the setup, although it looks quite similar between several tests, is actually different in subtle ways. We felt that the tests would be more readable and maintainable in their current state. <br>
The issue on line 199 exposed a regression where empty display text was not being styled correctly. This has been fixed under a different JIRA.<br>
The remaining issues are addressed in Mike's latest patch. </p>

                    </li>
                    
                    <li id="comment-24768">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2010-11-30T15:34:36.043-0500">2010-11-30T15:34:36.043-0500</relative-time></i></p>
                        <p>Refactoring changes reviewed and committed.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-3820/"><span class="aria-hidden">←</span> Previous: FLUID-3820</a>
        <a class="mx-1" href="/browse/FLUID-3822/">Next: FLUID-3822 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>