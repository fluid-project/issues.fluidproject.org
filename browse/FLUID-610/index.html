<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-610  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-610 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-610/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-610/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-610/">FLUID-610</a></li>
            </ol>
        </nav>
        <h1>FLUID-610: Upload component blocks client-side access to server-side data</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-610">FLUID-610</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Critical</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Eli Cochran</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Former%20user">Former user</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2008-05-16T17:56:31.000-0400" prefix="">2008-05-16T17:56:31.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2008-07-11T16:07:11.000-0400" prefix="">2008-07-11T16:07:11.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Uploader</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The swfupload API lets clients specify an "upload_success_handler" callback to receive notifications for each successfully uploaded file. This includes a "server_data" argument which holds some text response from the file-upload request.</p>
<p>Because literally no identifiers are guaranteed to be shared between a file as the client-side knows it and as the server-side knows it, this argument is needed to keep the two aspects of the application synchronized.</p>
<p>For example, in the primitive Image Gallery demo program, the server returns a unique ID for each successfully stored file, client-side JavaScript accumulates those IDs in hidden input fields, and then they're passed along to the next page in the workflow, "Add Information to New Images". If the client code didn't have access to those IDs, there'd be no easy way to distinguish just which images had been added as part of the current session.</p>
<p>The current implementation of MultiFileUpload doesn't appear to give client-side access to the data which has been returned from an individual file upload to swfupload.</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-610/FLUID-610-uploader.patch">
                            
                                FLUID-610-uploader.patch
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-16221">
                        <p class="mb-0"><b>Former user</b> <i>commented <relative-time datetime="2008-05-16T17:59:38.000-0400">2008-05-16T17:59:38.000-0400</relative-time></i></p>
                        <p>Since Eli isn't working today and the Toronto team is heading towards a long weekend, I'll have a try at hacking together a solution. If I'm successful, I'll attach it as a patch.</p>

                    </li>
                    
                    <li id="comment-16223">
                        <p class="mb-0"><b>Former user</b> <i>commented <relative-time datetime="2008-05-16T20:51:29.000-0400">2008-05-16T20:51:29.000-0400</relative-time></i></p>
                        <p>I've attached a MultiFileUpload.js patch which works with the version of Image Gallery that I'm about to check in.</p>
<p>It adds one new option to "settings":</p>
<p>whenFileUploaded : function to call when the server reports that an individual file has been successfully stored. It will receive two parameters: "fileName" (for the file name as known to the client; note that this is not guaranteed to be unique) and "serverResponse" (for the character string returned by the server, usually some sort of server-meaningful ID).</p>
<p>Here's the sample from the Gallery page:</p>
<p>var settings =   {<br>
fileTypes: "<strong>.gif;</strong>.jpeg;<strong>.jpg;</strong>.png;*.tiff",<br>
fileTypesText: "image files",<br>
continueAfterUpload: false,<br>
whenFileUploaded: function(fileName, serverResponse) {<br>
console.log("whenFileUploaded called; fileName=" + fileName + ", serverResponse=" + serverResponse);<br>
jQuery('#new-image-form').append('&lt;input type="hidden" name="imageIds" value="' + serverResponse + '"/&gt;');<br>
},<br>
debug: true<br>
};</p>

                    </li>
                    
                    <li id="comment-16225">
                        <p class="mb-0"><b>Eli Cochran</b> <i>commented <relative-time datetime="2008-05-19T13:40:24.000-0400">2008-05-19T13:40:24.000-0400</relative-time></i></p>
                        <p>committed Ray's patch. Current uploader is working against reference JAVA app. May need some re-factoring for other instances</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-609/"><span class="aria-hidden">←</span> Previous: FLUID-609</a>
        <a class="mx-1" href="/browse/FLUID-611/">Next: FLUID-611 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>