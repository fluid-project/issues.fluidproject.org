<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-2780  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-2780 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-2780/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-2780/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-2780/">FLUID-2780</a></li>
            </ol>
        </nav>
        <h1>FLUID-2780: Clicking on either of the last two page links will throw an error</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-2780">FLUID-2780</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-05-27T10:27:08.000-0400" prefix="">2009-05-27T10:27:08.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2009-05-27T14:01:00.000-0400" prefix="">2009-05-27T14:01:00.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.1</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Pager</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Clicking on either of the last two page links will throw an error</p>
<p>Steps to reproduce:</p>
<p>1) Open the Sakai Site Settings example <br>
<a href="http://build.fluidproject.org/infusion/integration-demos/sakai/html/pager-site-setting.html#">http://build.fluidproject.org/infusion/integration-demos/sakai/html/pager-site-setting.html#</a></p>
<p>2) Click on either the last or second last page link</p>
<p>Notice that an error is thrown</p>
<p>Error:<br>
fluid.jById(lastId).focus is not a function<br>
<a href="http://build.fluidproject.org/infusion/framework/renderer/js/fluidRenderer.js">http://build.fluidproject.org/infusion/framework/renderer/js/fluidRenderer.js</a></p>
<p>Another way to generate this error:</p>
<ul>
<li>open Sakai Site Settings example: <a href="http://build.fluidproject.org/infusion/integration-demos/sakai/html/pager-site-setting.html#">http://build.fluidproject.org/infusion/integration-demos/sakai/html/pager-site-setting.html#</a></li>
<li>change the sort order by clicking on the table header</li>
<li>click on the page number (for example 3)</li>
<li>click next</li>
<li>click on other page number (for example 18)</li>
<li>notice that the list does not update and if you click next again, you jump to page 5 (if you used page numbers above)</li>
</ul>

            </div>
            
            <div class="spacing-y-1">
                <h2>Environments</h2>
                <p>FF2, FF3, Opera 9.6, Safari 3.2 (Mac OS 10.5)<br>
Safari 3.2 (Mac OS 10.4)<br>
FF2, FF3, IE6, IE7, IE8, Opera 9.6 (Win XP)<br>
FF3, IE7, IE8 (Win Vista)<br>
IE6 (Win 2000)</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-2780/fluid-2780.txt">
                            
                                fluid-2780.txt
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-21679">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2009-05-27T13:19:05.000-0400">2009-05-27T13:19:05.000-0400</relative-time></i></p>
                        <p>Attached patch which guards against this issue twice - There are two parts to this problem. </p>
<p>Firstly, the ids assigned to the page links in this case are not assigned stably, so the last 3 links in general will not have corresponding ids once the page link control is rerendered. This is now handled by setting the "localID" property for the control which now stably associates its id with the page number to which it corresponds.</p>
<p>Secondly, this error should not be thrown under any circumstances, even if the element to be focused no longer exists. So the relevant code in the renderer is now guarded.</p>

                    </li>
                    
                    <li id="comment-21680">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2009-05-27T14:01:00.000-0400">2009-05-27T14:01:00.000-0400</relative-time></i></p>
                        <p>Verified fix using:</p>
<p>FF2, FF3, Opera 9.6, Safari 3.2 (Mac OS 10.5)<br>
FF3, IE7, IE8 (Win Vista)</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-2779/"><span class="aria-hidden">←</span> Previous: FLUID-2779</a>
        <a class="mx-1" href="/browse/FLUID-2781/">Next: FLUID-2781 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>