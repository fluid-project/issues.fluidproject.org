<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-2642  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-2642 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-2642/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-2642/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-2642/">FLUID-2642</a></li>
            </ol>
        </nav>
        <h1>FLUID-2642: User-initiated no-Flash graceful degradation</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-2642">FLUID-2642</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=New%20Feature">New Feature</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Eli Cochran</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Eli%20Cochran">Eli Cochran</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-05-01T19:37:07.000-0400" prefix="">2009-05-01T19:37:07.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2011-02-22T16:27:52.848-0500" prefix="">2011-02-22T16:27:52.848-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Uploader</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Add functionality to the Uploader to allow users to switch between the Advanced Flash-based Multi-File Uploader and the generic form file uploader.</p>
<p>This should be a configuration option and be tied to progressive enhancement. </p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-2642/FLUID-2642-a.patch">
                            
                                FLUID-2642-a.patch
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-17486">
                        <p class="mb-0"><b>Eli Cochran</b> <i>commented <relative-time datetime="2009-05-01T19:41:26.000-0400">2009-05-01T19:41:26.000-0400</relative-time></i></p>
                        <p>There are some challenges to implementing this. The place to configure this is either in progressiveEnhanceableUploader or in Uploader. The problem is that it needs data from both. Right now progressiveEnhanceableUploader doesn't have access to some of the options in Uploader because Uploader has not been initialized yet. And Uploader doesn't know about the enhanceable element in progressiveEnhanceableUploader since that is discarded after progressiveEnhanceableUploader has done it's work. </p>
<p>Perhaps the best way is to make the enhancable element an option of the Uploader which then gets passed into the Uploader on the options but used by progressiveEnhanceableUploader first. </p>

                    </li>
                    
                    <li id="comment-17487">
                        <p class="mb-0"><b>Eli Cochran</b> <i>commented <relative-time datetime="2009-05-05T12:09:20.000-0400">2009-05-05T12:09:20.000-0400</relative-time></i></p>
                        <p>Colin Clark and I worked out a way to handle this situation that is a mix of very light framework code that could be used by almost any component and a bit of rather specific (perhaps too) Uploader code. However, the Uploader's requirement that it be user enhancable and degradable is an edge case, and the framework really should carry the burden of supporting that odd functionality. </p>
<p>Below is the code sketch that we worked out. (This is only a sketch and I'm putting it here for safe keeping until we implement the solution). </p>
<p>fluid.progressiveEnhanceableUploader = function (container, enhanceable, options) {<br>
enhanceable = fluid.container(enhanceable);<br>
container = fluid.container(container);</p>
<p>// setup the toggle, this is temp code, needs to be smart and DOM agnostic<br>
var toggleElement = $(".uploader-toggle-choice",enhanceable);<br>
toggleElement.removeClass("fl-uploader-hidden");<br>
toggleElement.click(function () {<br>
enhanceable.hide();<br>
container.show();<br>
});</p>
<p>if (swfobject.getFlashPlayerVersion().major &lt; 9) {<br>
// Degrade gracefully.<br>
enhanceable.show();<br>
} else {<br>
// Instantiate the component.<br>
container.show();<br>
$(".uploader-toggle-choice",container).click(function () {<br>
container.hide();<br>
enhanceable.show();<br>
});</p>
<p>return fluid.uploader(container, options);<br>
}</p>
<p>var options = {<br>
enhanceable: "#thingy",<br>
selectors: {<br>
enhancableToggleControl : ".foo",<br>
enhanceable : ".uploader_basic"<br>
}<br>
}</p>
<p>fluid.uploader = function (container, options) {</p>
<p>};</p>
<p>fluid.progressiveEnhance = function (componentName, container, enhanceable, options) {<br>
var systemCheck = fluid.invokeGlobalFunction(componentName + ".checkSystemRequirements");<br>
if (systemCheck) {        <br>
var component = fluid.invokeGlobalFunction(componentName, [container, options]);<br>
component.enhanceable = enhanceable;<br>
} else {<br>
container.hide();<br>
enhanceable.show();<br>
}<br>
};</p>
<p>fluid.uploader = function (container, options) {<br>
if (that.enhanceable) {<br>
// write out link<br>
}</p>
<p>//...<br>
};</p>
<p>fluid.uploader.checkSystemRequirements = function (container, enhanceable, options) {<br>
var goodFlash = swfobject.getFlashPlayerVersion().major &gt; 8;<br>
if (goodFlash) {<br>
var enhanceLink = "&lt;a href='#'&gt;blah blah&lt;/a&gt;";<br>
enhanceLink.click(function () { <br>
container.hide();<br>
enhanceable.show();<br>
});<br>
enhanceable.append(enhanceLink);<br>
}<br>
return goodFlash;<br>
};</p>
<p>};</p>

                    </li>
                    
                    <li id="comment-17488">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2009-05-15T18:50:35.000-0400">2009-05-15T18:50:35.000-0400</relative-time></i></p>
                        <p>Here's a patch with a working (though raw) implementation of clickToDegrade decorator. I ran into a snag trying to register this as an actual decorator on the component--this should be possible, but I haven't had enough time to debug the issues. But this works in a bare-bones style.</p>

                    </li>
                    
                    <li id="comment-17489">
                        <p class="mb-0"><b>Eli Cochran</b> <i>commented <relative-time datetime="2009-05-18T17:08:25.000-0400">2009-05-18T17:08:25.000-0400</relative-time></i></p>
                        <p>I think that the DOM for the enhancible links should be carried in the markup for maximum flexibility and then the selectors would be added to the clickToDegrade decorator.</p>

                    </li>
                    
                    <li id="comment-17490">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2009-10-13T18:34:31.000-0400">2009-10-13T18:34:31.000-0400</relative-time></i></p>
                        <p>This was fixed for Infusion 1.0</p>

                    </li>
                    
                    <li id="comment-17491">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2011-02-22T16:27:52.846-0500">2011-02-22T16:27:52.846-0500</relative-time></i></p>
                        <p>Closing issues that were resolved for 1.0 and earlier releases. </p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-2641/"><span class="aria-hidden">←</span> Previous: FLUID-2641</a>
        <a class="mx-1" href="/browse/FLUID-2643/">Next: FLUID-2643 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>