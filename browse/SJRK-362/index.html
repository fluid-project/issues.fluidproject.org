<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> SJRK-362  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" SJRK-362 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/SJRK-362/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/SJRK-362/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/SJRK" data-pagefind-filter="project">Social Justice Repair Kit</a></li>
                <li><a href="/browse/SJRK-362/">SJRK-362</a></li>
            </ol>
        </nav>
        <h1>SJRK-362: CI deploy tasks run and fail in forks.</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/SJRK-362">SJRK-362</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/SJRK/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/SJRK/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Giovanni Tirloni</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/SJRK/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2020-06-15T08:39:39.713-0400" prefix="">2020-06-15T08:39:39.713-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2020-06-15T11:14:51.935-0400" prefix="">2020-06-15T11:14:51.935-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Currently the <a href="https://github.com/jobara/sjrk-story-telling/blob/master/.github/workflows/stack_master.yml">stories.floeproject.org__staging</a> CI task is running in forks and attempts to deploy to staging. This fails because the required secrets are not available in the fork.</p>
<p>Example failing build: <a href="https://github.com/jobara/sjrk-story-telling/runs/772418843?check_suite_focus=true">https://github.com/jobara/sjrk-story-telling/runs/772418843?check_suite_focus=true</a></p>
<p>I don't know what the purpose of staging is exactly, as it's only run on pushes to master. I'd expect master to actually deploy to production, so not sure if there are other workflow steps. At any rate, it doesn't seem appropriate for forks to be attempting to deploy to staging, and the failing builds are confusing to those working on development. I'd suggest adding a conditional check to only run this task when triggered in the project's repository.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-26571">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2020-06-15T08:40:38.610-0400">2020-06-15T08:40:38.610-0400</relative-time></i></p>
                        <p>Gregor Moss&#160;I assigned to Giovanni Tirloni&#160;because it looked like he originally worked on the CI tasks, but pinging you in the comments as well.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/SJRK-361/"><span class="aria-hidden">←</span> Previous: SJRK-361</a>
        <a class="mx-1" href="/browse/SJRK-363/">Next: SJRK-363 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>