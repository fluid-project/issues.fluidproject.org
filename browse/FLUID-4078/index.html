<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4078  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4078 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4078/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4078/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4078/">FLUID-4078</a></li>
            </ol>
        </nav>
        <h1>FLUID-4078: The HTML5 Upload strategy incorrectly interprets the fileSizeLimit option in megabytes instead of kilobytes.</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4078">FLUID-4078</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Mike Lam</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Colin%20Clark">Colin Clark</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-02-17T18:15:44.194-0500" prefix="">2011-02-17T18:15:44.194-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2011-03-14T16:26:54.267-0400" prefix="">2011-03-14T16:26:54.267-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Uploader</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>At the moment, the HTML5 strategy in the Uploader assumes the queueSettings.fileSizeLimit option is specified in megabytes instead of kilobytes. As a result, it multiplies the value by 1000000 when converting to bytes, causing the fileSizeLimit to be interpreted as 1000x larger than it should be. The current contract for the Upload clearly specifies that this value should be in KB, not MB</p>
<p>This should be fixed by either changing the contract to take MB (and updating the Flash strategy accordingly), or by correctly converting kilobytes in the HTML5 strategy.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-20147">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-02-24T11:29:40.385-0500">2011-02-24T11:29:40.385-0500</relative-time></i></p>
                        <p>A poor miscalculation on my part with converting file size limits between strategies.  The fileSizeLimit has been correctly converted from kilobytes to bytes in the HTML5 strategy.  The legacyBrowserLimit value has also been converted from MB to bytes.  The unit tests have been adjusted to reflect the bug fix.  We should be using the same units across the entire HTML5 strategy to avoid confusion in the future.</p>

                    </li>
                    
                    <li id="comment-20149">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-02-24T11:54:14.616-0500">2011-02-24T11:54:14.616-0500</relative-time></i></p>
                        <p>Re-opening to change the workflow to "needs commit".   The workflow button is disabled once the issue is resolved</p>

                    </li>
                    
                    <li id="comment-20151">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-03-14T16:24:50.462-0400">2011-03-14T16:24:50.462-0400</relative-time></i></p>
                        <p>Reviewed and pushed into the project repository.</p>

                    </li>
                    
                    <li id="comment-20153">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-03-14T16:26:25.673-0400">2011-03-14T16:26:25.673-0400</relative-time></i></p>
                        <p>I need to re-open this JIRA so that I can resolve it and properly close it.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4077/"><span class="aria-hidden">←</span> Previous: FLUID-4077</a>
        <a class="mx-1" href="/browse/FLUID-4079/">Next: FLUID-4079 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>