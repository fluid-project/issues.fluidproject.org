<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-112  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-112 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-112/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-112/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-112/">FLUID-112</a></li>
            </ol>
        </nav>
        <h1>FLUID-112: The selector used in jQuery().droppable() is potentially inconsistent with the orderable finder function.</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-112">FLUID-112</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Critical</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Colin Clark</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Joseph%20Scheuhammer">Joseph Scheuhammer</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2007-11-15T10:58:53.000-0500" prefix="">2007-11-15T10:58:53.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2008-12-02T15:06:09.000-0500" prefix="">2008-12-02T15:06:09.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Reorderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Initializing the jQuery droppables requires passing a jQuery selector which is used by the droppable machinery to determine the droppable elements.  The technique used to create that selector is based solely on the id's of the elements.  This is fine when the orderable finder function also depends on id's.  But, the finder function definition is up to the client, and they could define a non-id based search, say, based on a css class.  In that case, it's doubtful that drag-and-drop will work properly.</p>
<p>In short:  the selector definition must be consistent with the orderable finder function output.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-17958">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2008-03-25T19:49:04.000-0400">2008-03-25T19:49:04.000-0400</relative-time></i></p>
                        <p>I fixed this problem by replacing the accumulated selector string with a simple predicate function that looks like this:</p>
<p>// Create a simple predicate function that will identify valid drop targets.<br>
var droppablePredicate = function (potentialDroppable) {<br>
return (movables.index(potentialDroppable[0]) &gt; -1);	<br>
}</p>
<p>This approach is clean and consistent with our item finder function approach approach.</p>

                    </li>
                    
                    <li id="comment-17962">
                        <p class="mb-0"><b>Joseph Scheuhammer</b> <i>commented <relative-time datetime="2008-04-04T10:21:57.000-0400">2008-04-04T10:21:57.000-0400</relative-time></i></p>
                        <p>Using a predicate for this functionality is something I wanted to do for a while – kudos to jQueryUI for making the 'accept' option to droppable() allow for a predicate function.</p>
<p>A couple of comments:</p>
<p>1. The findItems structure has three aspects:  movables, selectables, and dropTargets.  droppablePredicate() is defined in terms of movables.  Why not define it in terms of dropTargets?  Aren't dropTargets and droppables synonomous?  Or, is it the other way around, and the function should be movablePredicate()?</p>
<p>2. This is a minor stylistic observation:  there are other predicate functions in the fluid code, but they are of the form isX().  In Lisp/Scheme, one would append a 'p', as in 'droppablep'.  What is the JavaScript convention?  Is there one?  I did a quick look using Google, but didn't really find anything. </p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-111/"><span class="aria-hidden">←</span> Previous: FLUID-111</a>
        <a class="mx-1" href="/browse/FLUID-113/">Next: FLUID-113 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>