<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-856  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-856 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-856/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-856/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-856/">FLUID-856</a></li>
            </ol>
        </nav>
        <h1>FLUID-856: Nested Reorderers: Moving an 'outer' orderable causes 'inner' Reorderer to be created a second time.</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-856">FLUID-856</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Sub-task">Sub-task</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Justin Obara</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Anastasia%20Cheetham">Anastasia Cheetham</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2008-07-07T19:13:33.000-0400" prefix="">2008-07-07T19:13:33.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2008-09-08T09:09:41.000-0400" prefix="">2008-09-08T09:09:41.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.1</li>
                            
                            <li>0.3</li>
                            
                            <li>0.4beta1</li>
                            
                            <li>0.4</li>
                            
                            <li>0.5beta1</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Reorderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>In a case of nested Reorderers (for example, the uPortal sample page with the Lightbox in one of the portlets):</p>
<p>If an orderable item of the outer Reorderer, one containing a Reorderer (e.g. the Lightbox portlet), is moved, the inner Reorderer (the Lightbox) is re-instantiated. Specifically, the script inside the HTML of the portlet is re-executed.</p>
<p>Oddly, this only happens the first time you move it, and never again.</p>
<p>I've created a simple test file to make it easier to see:<br>
<a href="http://build.fluidproject.org/fluid/tests/fluid-tests/manual/nested-reorderers/nested.html">http://build.fluidproject.org/fluid/tests/fluid-tests/manual/nested-reorderers/nested.html</a><br>
In this HTML file, the script tags have console logs. Open the console to see when the scripts are executed.</p>
<p>If you move either of the list items that have inner lists, you'll see that the script is executed again (but only the first time you move it).</p>
<p>This problem does not happen if all of the reorderers are instantiated in a single script block at the end of the file.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-21693">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2008-08-08T14:25:38.000-0400">2008-08-08T14:25:38.000-0400</relative-time></i></p>
                        <p>This is as a result of the jQuery "domManip" function deciding to reevaluate any script blocks that it finds inside markup that it mangles. Obviously for init blocks which are simply being moved from one place to the other, this is not the desired behaviour. Unfortunately it is hard to think of a way to detach and then reattach a DOM node without causing JQuery to believe that the markup is "new" - for applications where we are very sure we are simply "shuffling" the dom, we might want to look into doing this by other means - it will certainly be cheaper and faster in any case.</p>

                    </li>
                    
                    <li id="comment-21694">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2008-09-07T18:02:53.000-0400">2008-09-07T18:02:53.000-0400</relative-time></i></p>
                        <p>Drop Manager, Dom Permutation work merged back into trunk at revision 5476</p>
<p>It turns out that even without the use of JQuery, the &lt;script&gt; blocks are being evaluated on reattachment in any case. These have needed to be manually "cleansed" out of the DOM on move.</p>

                    </li>
                    
                    <li id="comment-21695">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2008-09-08T09:09:41.000-0400">2008-09-08T09:09:41.000-0400</relative-time></i></p>
                        <p>Verified fix using:</p>
<p>FF2, FF3, Opera 9.5 (Mac OS 10.5, Win XP)<br>
FF3 (Win Vista)</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-855/"><span class="aria-hidden">←</span> Previous: FLUID-855</a>
        <a class="mx-1" href="/browse/FLUID-857/">Next: FLUID-857 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>