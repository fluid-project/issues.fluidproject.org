<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-2377  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-2377 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-2377/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-2377/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-2377/">FLUID-2377</a></li>
            </ol>
        </nav>
        <h1>FLUID-2377: [Uploader] afterUploadComplete event is not granular enough</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-2377">FLUID-2377</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Improvement">Improvement</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Eli%20Cochran">Eli Cochran</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-03-17T19:10:56.000-0400" prefix="">2009-03-17T19:10:56.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2017-01-16T09:44:11.051-0500" prefix="">2017-01-16T09:44:11.051-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.8</li>
                            
                            <li>1.0</li>
                            
                            <li>1.1</li>
                            
                            <li>1.1.1</li>
                            
                            <li>1.1.2</li>
                            
                            <li>1.2</li>
                            
                            <li>1.3</li>
                            
                            <li>1.4</li>
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Uploader</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Right now when the upload cycle is complete there is only one event that gets fired that isn't file specific: afterUploadComplete</p>
<p>This is the only event that an integrator or developer can use to fire off an action at the very end of the upload cycle. But this event fires happens when the cycle ends whether it ended because the user clicked stop, some but not all files uploaded, all files uploaded, all files errored. </p>
<p>It is most likely that an implementor or developer would want to do something different depending on how the upload cycle completed. We could probably get away with two events, "every file was uploaded successfully" and "upload stopped but some files errored or are still in the queue"</p>
<p>For 1.0 we need to document the workaround for this, using a listener which checks the state of the queue before doing an action, as in this example from the Image Gallery server demo:</p>
<p>afterUploadComplete: function () {<br>
if (myUpload.uploadManager.queue.getReadyFiles().length === 0) { // we're really really done<br>
window.location.href = "/sakai-imagegallery2-web/site/BrowseImages/";<br>
}<br>
}</p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-2376/"><span class="aria-hidden">←</span> Previous: FLUID-2376</a>
        <a class="mx-1" href="/browse/FLUID-2378/">Next: FLUID-2378 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>