<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> ENGAGE-367  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" ENGAGE-367 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/ENGAGE-367/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/ENGAGE-367/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/ENGAGE" data-pagefind-filter="project">Fluid Engage</a></li>
                <li><a href="/browse/ENGAGE-367/">ENGAGE-367</a></li>
            </ol>
        </nav>
        <h1>ENGAGE-367: The Engage data mapping infrastructure is poorly factored, causing repetitive code and subtle musem-specific schema assumptions</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/ENGAGE-367">ENGAGE-367</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/ENGAGE/?resolution=Incomplete">Incomplete</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?reporter=Colin%20Clark">Colin Clark</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2010-02-10T12:24:13.000-0500" prefix="">2010-02-10T12:24:13.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-03-03T13:47:36.301-0500" prefix="">2014-03-03T13:47:36.301-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.1</li>
                            
                            <li>0.3b</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Engage's architecture is founded on the concept of "schemalessness." At the database level, we don't assert a single schema to which a musem's data must conform. Instead, we store data in Couch in whatever format it is given to us in. This preserve the original linkage of data in our system with wherever it came from, ensuring that museums can easily query our data feeds, extract data from the system and merge it back with their in-house content and collections management system.</p>
<p>That said, we still want to shield presentation-layer code from having to contend with an essentially arbitrary schema. To this end, the vision for Engage is provide a single layer of framework code that can map data from a museum-specific format to one more suitable for presentation on the Web. Museums need only provide a declarative document that represents the mapping or transformation of their data. This should happen dynamically at request time, and should be invisible to components.</p>
<p>In Engage 0.3, the infrastructure we have for mapping from museum-specific schemas is located in framework/js/Engage.js. The central method is fluid.engage.mapModel(), which takes a raw model and a so-called "dataSpec" which defines the transformation operations.</p>
<p>However, this code is not well-factored and as a result includes a lot of duplicated code that breaks the declarative vision we have for mapping documents. Another side-effect of these design issues is that there is no way to support mapping of multiple fields into one field, etc.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-12143">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-17T11:47:24.000-0400">2010-03-17T11:47:24.000-0400</relative-time></i></p>
                        <p>Bug Parade Engage 0.3</p>

                    </li>
                    
                    <li id="comment-12144">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2013-08-17T04:02:16.010-0400">2013-08-17T04:02:16.010-0400</relative-time></i></p>
                        <p>We should really close all outstanding Engage JIRAs since even if the project one day returns, the codebase we start from will be unrecognisably different. In this case, we would use the Model Transformation system which has been under development for the last few years.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/ENGAGE-366/"><span class="aria-hidden">←</span> Previous: ENGAGE-366</a>
        <a class="mx-1" href="/browse/ENGAGE-368/">Next: ENGAGE-368 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>