<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5244  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5244 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5244/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5244/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5244/">FLUID-5244</a></li>
            </ol>
        </nav>
        <h1>FLUID-5244: Reserved IoC names silently hide components that have the same name</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5244">FLUID-5244</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Minor</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Colin Clark</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Colin%20Clark">Colin Clark</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2014-01-07T12:02:40.230-0500" prefix="">2014-01-07T12:02:40.230-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2021-07-29T01:36:11.892-0400" prefix="">2021-07-29T01:36:11.892-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                            <li>1.5</li>
                            
                            <li>2.0</li>
                            
                            <li>3.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>5.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>In cases where a developer names a component with the same name as an IoC reserved word (such as "source" or "container"), there is no warning or diagnostic to inform that they can't refer to the component in IoC references.</p>
<p>For example:</p>
<pre><code class="hljs language-java">fluid.defaults(<span class="hljs-string">"flock.io.osc.source"</span>, {
    gradeNames: [<span class="hljs-string">"fluid.eventedComponent"</span>, <span class="hljs-string">"autoInit"</span>],
    
    components: {
        transport: {
            type: <span class="hljs-string">"flock.io.serial"</span>,

            options: {
                listeners: {
                    onMessage: [
                        {
                            funcName: <span class="hljs-string">"flock.io.osc.parseRawOSC"</span>,
                            args: [<span class="hljs-string">"{arguments}.0"</span>, <span class="hljs-string">"{source}.events.onOSCMessage.fire"</span>]
                        }
                    ]
                }
            }
        }
    }
});
</code></pre>
<p>The IoC reference in the onMessage listener to "{source}" will not resolve against the component named "flock.io.osc.source" as the user might expect. In this particularly example, the reference "{source}.events.onOSCMessage.fire" silently resolves to undefined.</p>
<p>Presumably something like this will also fail, where the component name is defined as "source":</p>
<pre><code class="hljs language-java">fluid.defaults(<span class="hljs-string">"farm.barn"</span>, {
   gradeNames: [<span class="hljs-string">"fluid.littleComponent"</span>, <span class="hljs-string">"autoInit"</span>],
   components: {
       source: {
           type: <span class="hljs-string">"farm.cat"</span>,
           options: {
               size: <span class="hljs-string">"GIANT"</span>
           },
       },

       target: {
           type: <span class="hljs-string">"farm.nap"</span>,
           options: {
               size: <span class="hljs-string">"{source}.options.size"</span>
          }
       }
    }
});
</code></pre>
<p>Perhaps we need to provide some kind of diagnostic message when a user registers a component in fluid.defaults with a type name ending in one of the reserved word or when they create components with this name?</p>
<p>Alternatively, should we consider some kind of changing the scoping rules for IoC references in some way? </p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-25116">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2017-03-15T21:37:32.094-0400">2017-03-15T21:37:32.094-0400</relative-time></i></p>
                        <p>This is a specific bug with respect to "source" that we should be able to solve. This context name is treated specially because of the possibility of dynamically created components in response to an event. There would be no problem with a component named "container" since this is not a context name with any special meaning in the framework. However, there would be problems with a component named "arguments", or, indeed "that". It seems reasonable to prevent a component being created with either of these names as a member name or a short nickname. This is a similar issue to <a href="/browse/FLUID-5761/">FLUID-5761</a> which is a pretty serious usability failure.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5243/"><span class="aria-hidden">←</span> Previous: FLUID-5243</a>
        <a class="mx-1" href="/browse/FLUID-5245/">Next: FLUID-5245 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>