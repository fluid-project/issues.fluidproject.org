<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-3494  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-3494 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-3494/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-3494/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-3494/">FLUID-3494</a></li>
            </ol>
        </nav>
        <h1>FLUID-3494: FastXmlPull parser is not threadsafe, through use of global Regexp objects</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-3494">FLUID-3494</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Justin Obara</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2010-02-09T19:56:54.000-0500" prefix="">2010-02-09T19:56:54.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2010-12-13T15:23:48.450-0500" prefix="">2010-12-13T15:23:48.450-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.1.2</li>
                            
                            <li>1.2</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Renderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Note further with reference to comment on <a href="/browse/FLUID-3224/">FLUID-3224</a> - the fastXmlPull parser as it stands is not threadsafe - the RegExp objects that it uses have a static lifetime and will become corrupt on concurrent access. This is a critical issue wrt. Fluid Engage since with the renderer being deployed on the serverside, if more than one thread attempts to load a template concurrently, the resulting structure will become corrupt.</p>
<p>Since original filing, this issue has been found to be related to a critical issue on the client-side. As a result of not adhering to Fluid standards for namespacing and versioning, this module will cause a failure in a page where it is included multiply, through lack of proper registration of the members of the "XMLP" structure and its priority has been increased.</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3494/FLUID-3494.patch">
                            
                                FLUID-3494.patch
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-23423">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-10-20T11:46:01.446-0400">2010-10-20T11:46:01.446-0400</relative-time></i></p>
                        <p>"Bug Parade Infusion 1.3"</p>

                    </li>
                    
                    <li id="comment-23424">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-10-25T02:59:44.447-0400">2010-10-25T02:59:44.447-0400</relative-time></i></p>
                        <p>Attached as a patch so this may be applied (opportunistically) to earlier versions of Infusion</p>

                    </li>
                    
                    <li id="comment-23425">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-10-25T03:12:50.839-0400">2010-10-25T03:12:50.839-0400</relative-time></i></p>
                        <p>Resolved at revision 10155</p>

                    </li>
                    
                    <li id="comment-23426">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2010-10-29T13:35:36.579-0400">2010-10-29T13:35:36.579-0400</relative-time></i></p>
                        <p>The only issue I see with this is the lack of tests for fastXmlPull. In talking with Antranig, we have determined that the renderer tests also cover fastXmlPull. Writing tests for fastXmlPull in its current state will be difficult and result in tests that are difficult to maintain. At some point we will want to clean it up, tighten up the API and write some tests for fastXmlPull. </p>

                    </li>
                    
                    <li id="comment-23427">
                        <p class="mb-0"><b>Anastasia Cheetham</b> <i>commented <relative-time datetime="2010-11-02T16:10:12.970-0400">2010-11-02T16:10:12.970-0400</relative-time></i></p>
                        <p>I found one tiny problem: On line 296, the reference to attrStartRegex should be that.attrStartRegex.</p>

                    </li>
                    
                    <li id="comment-23428">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-11-03T09:17:54.924-0400">2010-11-03T09:17:54.924-0400</relative-time></i></p>
                        <p>the unit tests are also failing in ie8 related to attrStartRegex</p>

                    </li>
                    
                    <li id="comment-23429">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-11-04T04:23:29.162-0400">2010-11-04T04:23:29.162-0400</relative-time></i></p>
                        <p>Thanks for catching this, folks - committing this correction at 10177 allows IE tests to run again.</p>

                    </li>
                    
                    <li id="comment-23430">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2010-12-13T15:23:48.442-0500">2010-12-13T15:23:48.442-0500</relative-time></i></p>
                        <p>This was reviewed and tested.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-3493/"><span class="aria-hidden">←</span> Previous: FLUID-3493</a>
        <a class="mx-1" href="/browse/FLUID-3659/">Next: FLUID-3659 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>