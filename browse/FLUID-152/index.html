<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-152  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-152 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-152/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-152/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-152/">FLUID-152</a></li>
            </ol>
        </nav>
        <h1>FLUID-152: Dropping a thumbnail from the first row after the first thumb in the second row causes it to be dropped at the end of the first row.</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-152">FLUID-152</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Incomplete">Incomplete</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Jonathan Hung</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Michelle%20D'Souza">Michelle D'Souza</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2007-12-18T16:55:06.000-0500" prefix="">2007-12-18T16:55:06.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2008-07-11T14:36:43.000-0400" prefix="">2008-07-11T14:36:43.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Image Reorderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>To recreate:</p>
<p>1. Pick up a thumbnail from the first row.<br>
2. Drag it into position so that the drop marker appears after the first item in the second row and the mouse pointer is hovering over the first item in the second row.<br>
3. Drop the thumbnail.<br>
4. Notice that it was been placed in front of the first item in the second row which is at the end of the first row.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-22427">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2007-12-18T16:58:32.000-0500">2007-12-18T16:58:32.000-0500</relative-time></i></p>
                        <p>I think this behaviour was introduced while fixing Fluid-100</p>

                    </li>
                    
                    <li id="comment-22429">
                        <p class="mb-0"><b>Joseph Scheuhammer</b> <i>commented <relative-time datetime="2007-12-20T16:55:28.000-0500">2007-12-20T16:55:28.000-0500</relative-time></i></p>
                        <p>During testing of the fix for <a href="/browse/FLUID-146/">FLUID-146</a>, I noticed that this bug (<a href="/browse/FLUID-152/">FLUID-152</a>) happens only when dragging on whitespace (in a lightbox thumbnail).  If dragging is initiated on the image or the link text, then the drop behaviour is correct.</p>

                    </li>
                    
                    <li id="comment-22430">
                        <p class="mb-0"><b>Jonathan Hung</b> <i>commented <relative-time datetime="2008-01-31T16:23:11.000-0500">2008-01-31T16:23:11.000-0500</relative-time></i></p>
                        <p>A variation on this problem:</p>
<p>1. pick up 2nd thumbnail from second row using white space WITH the mouse pointer near the right-edge of the thumbnail box<br>
2. drag to 1st row between the 2nd last and last item WITH the mouse pointer hovering over last item<br>
3. release<br>
4. dragged item appears as first item on 2nd row instead of being last item on the first row.</p>

                    </li>
                    
                    <li id="comment-22431">
                        <p class="mb-0"><b>Jonathan Hung</b> <i>commented <relative-time datetime="2008-02-01T15:33:35.000-0500">2008-02-01T15:33:35.000-0500</relative-time></i></p>
                        <p>I did some investigating and have some more information why this bug is happening. </p>
<p>isMouseBefore() is returning a bad value for this edge case. You can see this clearly by placing the following Firebug output just before the return (evt.clientX &lt; mid); statement:</p>
<p>console.log ("evt.clientX  = " + evt.clientX  + ", mid = " + mid);</p>
<p>Following the directions in my comment above; as you watch the console output, you will see that the "mid" values are all correct while dragging with the mouse. But once releasing the mouse button, the mid value changes drastically thus resulting in an erroneous item move.</p>
<p>On closer examination, jQuery (droppableEl).offset().left  is not returning a value we expect after the mouse has been released and mouseMoveItem() is called.</p>

                    </li>
                    
                    <li id="comment-22432">
                        <p class="mb-0"><b>Jonathan Hung</b> <i>commented <relative-time datetime="2008-02-05T13:29:58.000-0500">2008-02-05T13:29:58.000-0500</relative-time></i></p>
                        <p>Did some digging. It appears that drop() was being called twice during this particular mouse action. Further investigation revealed that this is indeed a bug in jQuery UI 1.0. <a href="http://dev.jquery.com/ticket/1547">http://dev.jquery.com/ticket/1547</a></p>
<p>Following bstar's temporary fix documented in the #1547 bug report, this problem in <a href="/browse/FLUID-152/">FLUID-152</a> appears to be fixed.</p>
<p>I will commit both a patch and a modified version of ui.droppable.js to our SVN and document appropriately.</p>
<p>When jQueryUI v1.5 is available, we should check to see that #1547 is fixed without our patch and remove our patch as necessary.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-151/"><span class="aria-hidden">←</span> Previous: FLUID-151</a>
        <a class="mx-1" href="/browse/FLUID-153/">Next: FLUID-153 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>