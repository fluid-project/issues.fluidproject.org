<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5696  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5696 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5696/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5696/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5696/">FLUID-5696</a></li>
            </ol>
        </nav>
        <h1>FLUID-5696: Failure to instantiate ginger subcomponent which is an injection record</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5696">FLUID-5696</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2015-06-23T22:24:35.812-0400" prefix="">2015-06-23T22:24:35.812-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2017-02-27T15:49:15.073-0500" prefix="">2017-02-27T15:49:15.073-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>2.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Framework</li>
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The very long-standing slow branch in fluid.resolveContext which triggers ginger subcomponent instantiation based on lookahead in the component options is faulty - </p>
<p>if (fluid.getForComponent(component, ["options", "components", context, "type"]) &amp;&amp; !component[context]) {</p>
<p>since this will only respond to a full subcomponent record rather an injection record.</p>
<p>For example: <br>
fluid.defaults("souq.chaundles",<br>
components: {<br>
tileManager: "{chaundleHolder}.chaundleTileManager",<br>
},<br>
modelListeners: {<br>
"{tileManager}.model.dataTicks.mainWindow": "{that}.refreshView(true)" <br>
}<br>
});</p>
<p>It's unclear that the reference via member name will even be effective using the new "fast lookup" scope scheme. Naturally after <a href="/browse/FLUID-4925/">FLUID-4925</a> this will work as expected - unclear whether it is worth trying to patch up the old framework.</p>
<p>Note that there is a near-identical check in fluid.makeGingerStrategy above, although this one is used for concrete path segments rather than context names. The comment on this one reads "check is also incorrect and will miss injections" which looks as if it is misplaced and should go on the resolveContext site.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-22516">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2015-06-23T22:27:06.347-0400">2015-06-23T22:27:06.347-0400</relative-time></i></p>
                        <p>fluid.cacheShadowGrades has         <br>
contextHash[shadow.memberName] = true; // TODO: injected shadows in theory have a different memberName</p>
<p>We seem to remember having decided that we would ignore alternative member names at other injection sites, but currently hard to reconstruct a sensible reason for this.</p>
<p>There should be a branch in recordComponent "else" which takes account of "name" in working through parentShadow.childrenScope - and if possible, even manages to ignore the memberName at the source site. Is this sufficient, or do we need to adjust ownScope too?</p>

                    </li>
                    
                    <li id="comment-22518">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2015-08-20T10:47:18.238-0400">2015-08-20T10:47:18.238-0400</relative-time></i></p>
                        <p>Merged into trunk at revision 282f1a318718eed0b0ec060fb8b4ad254417fd7e</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5695/"><span class="aria-hidden">←</span> Previous: FLUID-5695</a>
        <a class="mx-1" href="/browse/FLUID-5697/">Next: FLUID-5697 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>