<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5201  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5201 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5201/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5201/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5201/">FLUID-5201</a></li>
            </ol>
        </nav>
        <h1>FLUID-5201: In composite panels, textfieldSlider not being properly instantiated</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5201">FLUID-5201</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Anastasia%20Cheetham">Anastasia Cheetham</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2013-10-30T14:44:00.129-0400" prefix="">2013-10-30T14:44:00.129-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2013-11-07T15:05:58.540-0500" prefix="">2013-11-07T15:05:58.540-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Prefs Framework</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>When a textfieldSlider is used as a decorator in a subpanel of a composite panel, an error occurs when the user tries to open the sliding panel. When the composite panel is trying to produce the subpanel trees, the list of component names includes one called "**-renderer-learning_sliderTest1_textSize-2", which doesn't actually exist as a subcomponent, and so an attempt to access its options results in a 'subPanel is undefined' error.</p>
<p>I discovered this issue while implementing some composite panels in order to document the process. The code that illustrates the issue can be seen in my branch:<br>
<a href="https://github.com/acheetham/infusion/tree/PFID">https://github.com/acheetham/infusion/tree/PFID</a></p>
<p>To reproduce the issue:</p>
<p>1) Check out the branch</p>
<p>2) Edit Open src/instructionalDemos/framework/preferences/compositeSchemas/js/composite.js to<br>
a) un-comment the "sliderTest1" block of the auxiliary schema:<br>
<a href="https://github.com/acheetham/infusion/blob/PFID/src/instructionalDemos/framework/preferences/compositeSchemas/js/composite.js#L102-L113">https://github.com/acheetham/infusion/blob/PFID/src/instructionalDemos/framework/preferences/compositeSchemas/js/composite.js#L102-L113</a><br>
b) un-comment the reference to sliderTest1 in the composite1 group<br>
<a href="https://github.com/acheetham/infusion/blob/PFID/src/instructionalDemos/framework/preferences/compositeSchemas/js/composite.js#L183">https://github.com/acheetham/infusion/blob/PFID/src/instructionalDemos/framework/preferences/compositeSchemas/js/composite.js#L183</a></p>
<p>Note: Make sure that the "radioTest1" panel is NOT enabled (it is causing <a href="/browse/FLUID-5200/">FLUID-5200</a>, which prevents this issue from being seen).</p>
<p>3) Open src/instructionalDemos/framework/preferences/compositeSchemas/index.html in your browser</p>
<p>4) Open the sliding panel, watching the console </p>
<p>You'll see an error in the console:</p>
<p>TypeError: subPanel is undefined</p>
<p>If you break on the error, you can see that fluid.prefs.compositePanel.produceSubPanelTrees() is trying to work with a component names "**-renderer-learning_sliderTest1_textSize-2", which doesn't actually exist.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-23094">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2013-10-31T11:17:06.465-0400">2013-10-31T11:17:06.465-0400</relative-time></i></p>
                        <p>It looks like the issue is around how aggressive the composite panel is at trying to rebase and surface options from it's subcomponents. At the moment it is trying to use all subcomponents. When rendering occurs, it places the an entry in the components block for any fluid renderer decorators that are created. This causes breakage on re-render when the produceTree attempts to get values from this pseudo subcomponent. </p>
<p>I've implemented a fix for this issue in my <a href="/browse/FLUID-5201/">FLUID-5201</a> branch by putting in a check to only attempt to work with fluid.prefs.panel type subcomponents. This also allows for a composite panel to have other subcomponents that aren't sub panels. <br>
<a href="https://github.com/jobara/infusion/tree/FLUID-5201">https://github.com/jobara/infusion/tree/FLUID-5201</a></p>

                    </li>
                    
                    <li id="comment-23097">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2013-10-31T15:54:11.600-0400">2013-10-31T15:54:11.600-0400</relative-time></i></p>
                        <p>Sent a pull request <a href="https://github.com/fluid-project/infusion/pull/432">https://github.com/fluid-project/infusion/pull/432</a></p>

                    </li>
                    
                    <li id="comment-23100">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2013-11-07T15:05:55.240-0500">2013-11-07T15:05:55.240-0500</relative-time></i></p>
                        <p>Merged pull request ( <a href="https://github.com/fluid-project/infusion/pull/432">https://github.com/fluid-project/infusion/pull/432</a> ) into the project repo at e4475f1d0ca14eb6d6cc506bb273a04088b0cd18</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5200/"><span class="aria-hidden">←</span> Previous: FLUID-5200</a>
        <a class="mx-1" href="/browse/FLUID-5202/">Next: FLUID-5202 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>