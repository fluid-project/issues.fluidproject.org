<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> ENGAGE-213  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" ENGAGE-213 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/ENGAGE-213/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/ENGAGE-213/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/ENGAGE" data-pagefind-filter="project">Fluid Engage</a></li>
                <li><a href="/browse/ENGAGE-213/">ENGAGE-213</a></li>
            </ol>
        </nav>
        <h1>ENGAGE-213: Kettle: Browser environment env.js doesn't send HTTP body</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/ENGAGE-213">ENGAGE-213</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?type=Improvement">Improvement</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/ENGAGE/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?reporter=Svetoslav%20Nedkov">Svetoslav Nedkov</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-12-10T12:10:34.000-0500" prefix="">2009-12-10T12:10:34.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-03-03T14:17:51.022-0500" prefix="">2014-03-03T14:17:51.022-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3b</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The problem is that ajax calls through jQuery use the XMLHttpRequest object which exists for all modern browser but is supplied by a third party javascript for Rhino. This javascript called env.js in the version we are using in its XMLHttpRequest.send method doesn't send any payload through the connection - it writes out the HTTP headers and then jumps to read the response.</p>
<p>A patch will use the existing connection object, get an output stream from it and simply send the data after the HTTP headers are written.</p>

            </div>
            
            <div class="spacing-y-1">
                <h2>Environments</h2>
                <p>Kettle, Rhino, env.js</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/ENGAGE/ENGAGE-213/ENGAGE-213.patch">
                            
                                ENGAGE-213.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/ENGAGE/ENGAGE-213/ENGAGE-213-demonstration.patch">
                            
                                ENGAGE-213-demonstration.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/ENGAGE/ENGAGE-213/env.js.patch">
                            
                                env.js.patch
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-12353">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2009-12-10T14:02:00.000-0500">2009-12-10T14:02:00.000-0500</relative-time></i></p>
                        <p>Thanks so much for this report and patch, Sveto. I have taken the ideas from it and moved some of the implementation into pure Java code, where it is easier to have correct exception semantics. Some other existing code in env.js has also been subsumed into this, since it had a bare "close" statement which could have caused problems.</p>

                    </li>
                    
                    <li id="comment-12354">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2009-12-15T03:55:36.000-0500">2009-12-15T03:55:36.000-0500</relative-time></i></p>
                        <p>Fixed at revision 8879. However, we still need to upgrade to the "B" version of PonderUtilCore for some other minor fixes. A patch is supplied to demonstrate successful use of PUT to a Couch DB from Kettle.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/ENGAGE-212/"><span class="aria-hidden">←</span> Previous: ENGAGE-212</a>
        <a class="mx-1" href="/browse/ENGAGE-215/">Next: ENGAGE-215 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>