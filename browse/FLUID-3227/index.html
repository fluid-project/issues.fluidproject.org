<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-3227  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-3227 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-3227/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-3227/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-3227/">FLUID-3227</a></li>
            </ol>
        </nav>
        <h1>FLUID-3227: ARIA live region attributes are added to the Undo component in markup, causing them to be incorrect on Firefox 2</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-3227">FLUID-3227</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Minor</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Alison Benjamin</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Colin%20Clark">Colin Clark</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-10-05T17:15:40.000-0400" prefix="">2009-10-05T17:15:40.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-03-03T14:22:36.360-0500" prefix="">2014-03-03T14:22:36.360-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.1.1</li>
                            
                            <li>1.1.2</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Undo</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>In the Undo component, we create an ARIA live region like this, directly in the markup:</p>
<p>var markup = "&lt;span class='flc-undo' aria-live='polite' aria-relevant='all'&gt;" + <br>
"&lt;span class='flc-undo-undoContainer'&gt;[&lt;a href='#' class='flc-undo-undoControl'&gt;undo&lt;/a&gt;]&lt;/span&gt;" + <br>
"&lt;span class='flc-undo-redoContainer'&gt;[&lt;a href='#' class='flc-undo-redoControl'&gt;redo&lt;/a&gt;]&lt;/span&gt;" + <br>
"&lt;/span&gt;";</p>
<p>This markup is hard-baked to the newer Firefox 3-style syntax, which causes it not to work in Firefox 2. The unit tests also fail on Firefox 2 as a result.</p>
<p>We should always add ARIA attributes using jQuery rather than directly in markup, since it does this normalization for us.</p>
<p>Note that we're no longer formally testing against Firefox 2, so this isn't a huge deal but is something we should try to fix if we can find the time.</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-3227/FLUID-3227.txt">
                            
                                FLUID-3227.txt
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-15158">
                        <p class="mb-0"><b>Alison Benjamin</b> <i>commented <relative-time datetime="2009-10-22T16:15:56.000-0400">2009-10-22T16:15:56.000-0400</relative-time></i></p>
                        <p>Adds ARIA using jquery. Works fine with JAWS, &amp; unit tests pass in FF2 &amp; FF3. </p>

                    </li>
                    
                    <li id="comment-15161">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2009-11-24T14:06:57.000-0500">2009-11-24T14:06:57.000-0500</relative-time></i></p>
                        <p>Code Review Comments:<br>
=================== </p>
<p>The live region itself doesn't work in FF 2, but the markup does appear to be correct. Did you experience this as well?</p>
<p>A bit off topic, what is your opinion on this. Since the undo/redo buttons will change the text of the content (the view mode text for inline edit), should these also be declared as live regions. Also should the undo and redo buttons describe what they are doing for example "undo edit".</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-3226/"><span class="aria-hidden">←</span> Previous: FLUID-3226</a>
        <a class="mx-1" href="/browse/FLUID-3228/">Next: FLUID-3228 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>