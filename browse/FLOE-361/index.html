<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLOE-361  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLOE-361 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLOE-361/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLOE-361/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLOE" data-pagefind-filter="project">Floe</a></li>
                <li><a href="/browse/FLOE-361/">FLOE-361</a></li>
            </ol>
        </nav>
        <h1>FLOE-361: FD tooltips can be read on both mouse in and mouse out of buttons</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLOE-361">FLOE-361</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLOE/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLOE/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLOE/?reporter=Simon%20Bates">Simon Bates</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2015-05-28T13:05:20.451-0400" prefix="">2015-05-28T13:05:20.451-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2015-11-03T12:43:54.970-0500" prefix="">2015-11-03T12:43:54.970-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>First Discovery</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>If a tooltip is attached to an element which has child elements, the tooltip is read both on mouse in and mouse out of that element to which the tooltip is attached.</p>
<p>To reproduce:</p>
<ul>
<li>open the First Discovery tool</li>
<li>mouse over the "turn voice OFF" button at the top of the tool</li>
<li>"Select to turn voice off" is read</li>
<li>mouse out of the button</li>
<li>"Select to turn voice off" is read again</li>
</ul>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-11160">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2015-05-29T07:48:56.834-0400">2015-05-29T07:48:56.834-0400</relative-time></i></p>
                        <p>After speaking with Antranig Basman in the channel for the last two days ( <a href="https://botbot.me/freenode/fluid-work/2015-05-28/?tz=America/Toronto">https://botbot.me/freenode/fluid-work/2015-05-28/?tz=America/Toronto</a> and <a href="https://botbot.me/freenode/fluid-work/2015-05-29/?tz=America/Toronto">https://botbot.me/freenode/fluid-work/2015-05-29/?tz=America/Toronto</a> ), it was determined that we should attempt to solve this directly in the FD tool by supplying a class that is used across all elements that expect to have the Tooltip. This will be set as the items option for the tooltip component.</p>
<p>Further work to refine Infusion's Tooltip.js widget will be done in <a href="/browse/FLUID-5672/">FLUID-5672</a> and will likely focus on using the idToConent to automatically generate the items option passed down to the jQuery UI tooltip.</p>

                    </li>
                    
                    <li id="comment-11161">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2015-05-29T13:11:43.215-0400">2015-05-29T13:11:43.215-0400</relative-time></i></p>
                        <p>This issue is a bit more complex that originally thought. Initially adding a new class and setting this as the items for the tooltip to open on seemed to work. However, the range panels (speech rate and text size) had an issue where the tooltip would remain and not close. Thereby collecting an ever increasing number of tooltips on the screen. </p>
<p>See <a href="https://botbot.me/freenode/fluid-work/2015-05-29/?tz=America/Toronto">https://botbot.me/freenode/fluid-work/2015-05-29/?tz=America/Toronto</a> for some logs and discussion with Antranig Basman.</p>
<p>This was somewhat puzzling as it didn't appear before the change to items, which had been tracking all elements. I did some more experimenting and found that the tooltip in fact does not seem to track descendants properly. The hover generally appears to work; however, if you move the mouse fast enough to a child element you can get to a state where the tooltip doesn't appear. I think this is actually similar to what's causing the problem with the tooltip sticking on the range panel. </p>
<p>When you are clicking the button, it's likely that you are clicking on the &lt;span&gt; inside the &lt;button&gt; (i.e. the + and - icons). Which is confusing because the tooltip did appear. However, if you look into the code for the range panel we were actually already requesting the tooltips to close before rendering ( <a href="https://github.com/fluid-project/first-discovery/blob/master/src/js/panels.js#L130">https://github.com/fluid-project/first-discovery/blob/master/src/js/panels.js#L130</a> ). Putting a break point here, you find that the close operation sometimes does nothing. To understand why that is, we have to look into the jQuery UI Tooltip widget code. The problem is that in the close method the tooltip element isn't being found <a href="https://github.com/fluid-project/infusion/blob/master/src/lib/jquery/ui/js/jquery.ui.tooltip.js#L309">https://github.com/fluid-project/infusion/blob/master/src/lib/jquery/ui/js/jquery.ui.tooltip.js#L309</a> and <a href="https://github.com/fluid-project/infusion/blob/master/src/lib/jquery/ui/js/jquery.ui.tooltip.js#L369-L372">https://github.com/fluid-project/infusion/blob/master/src/lib/jquery/ui/js/jquery.ui.tooltip.js#L369-L372</a> because the current element doesn't have any tooltip bindings. The explains why it works when we set items to "*" because all of the elements have the tooltip binding.</p>

                    </li>
                    
                    <li id="comment-11163">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2015-05-29T13:28:11.438-0400">2015-05-29T13:28:11.438-0400</relative-time></i></p>
                        <p>I have a branch started which sets the items option and adds a class name to all the elements that should have the tooltip <a href="https://github.com/jobara/first-discovery/tree/FLOE-361">https://github.com/jobara/first-discovery/tree/FLOE-361</a></p>

                    </li>
                    
                    <li id="comment-11164">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2015-06-01T15:32:02.521-0400">2015-06-01T15:32:02.521-0400</relative-time></i></p>
                        <p>Submitted a pull request:<br>
<a href="https://github.com/fluid-project/first-discovery/pull/76">https://github.com/fluid-project/first-discovery/pull/76</a></p>

                    </li>
                    
                    <li id="comment-11165">
                        <p class="mb-0"><b>Cindy Li</b> <i>commented <relative-time datetime="2015-06-03T16:13:19.728-0400">2015-06-03T16:13:19.728-0400</relative-time></i></p>
                        <p>Merged @ 688fd2ccfccc69994306a9fd8d5cfdb17d8e9efb</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLOE-360/"><span class="aria-hidden">←</span> Previous: FLOE-360</a>
        <a class="mx-1" href="/browse/FLOE-362/">Next: FLOE-362 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>