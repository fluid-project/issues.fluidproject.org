<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5673  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5673 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5673/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5673/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5673/">FLUID-5673</a></li>
            </ol>
        </nav>
        <h1>FLUID-5673: Tooltips are not closed by closeAll and accumulate endlessly if some descendents are not part of "items" option</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5673">FLUID-5673</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2015-05-30T15:50:11.124-0400" prefix="">2015-05-30T15:50:11.124-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2015-11-03T12:43:54.562-0500" prefix="">2015-11-03T12:43:54.562-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.9</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Tooltip</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>This issue was encountered whilst trying to resolve <a href="/browse/FLOE-361/">FLOE-361</a>. It was found that our default policy of applying items: "*" as an option to the underlying jQuery UI widget was causing interaction problems - mouse movement (or clicking) within an item that should have counted as a single tooltip source would cause the tooltip to redisplay as well as potentially also swallowing the event.</p>
<p>However, attempting to reconfigure the "items" option to be more specific caused problems of its own. As diagnosed on the JIRA, this would cause any tooltips constructed by the component to accumulate endlessly if some collateral event caused them to be closed (where "collateral" signifies "outside the direct influence of the underlying UI widget" - for example, re-rendering, or opening of a different tooltip).</p>
<p>The diagnosis on <a href="/browse/FLOE-361/">FLOE-361</a> is correct - the root cause is that the id stored in the Infusion component's openIdMap is incorrect and is that of the event target rather than the one that jQuery UI believes to be the tooltip target. As a result, jQuery UI ignores the request to "close" the tooltip when we ask for it by this id.</p>
<p>The resolution is to add an extra piece of solution in addition to "fluid.resolveEventTarget" in order to ensure that we only ever dispatch a valid node matched by "items" to the underlying UI widget's close method.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-22919">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2015-06-01T13:01:55.349-0400">2015-06-01T13:01:55.349-0400</relative-time></i></p>
                        <p>Merged pull request ( <a href="https://github.com/fluid-project/infusion/pull/607">https://github.com/fluid-project/infusion/pull/607</a> ) into the project repo at fcb1c18a9f4da94d6564a521175e772f2180e8c5</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5672/"><span class="aria-hidden">←</span> Previous: FLUID-5672</a>
        <a class="mx-1" href="/browse/FLUID-5674/">Next: FLUID-5674 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>