<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4261  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4261 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4261/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4261/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4261/">FLUID-4261</a></li>
            </ol>
        </nav>
        <h1>FLUID-4261: "Tag Singularity Problem" prevents expression of some component trees, especially in recursive cases</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4261">FLUID-4261</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-05-23T01:36:58.330-0400" prefix="">2011-05-23T01:36:58.330-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2015-06-09T13:26:07.978-0400" prefix="">2015-06-09T13:26:07.978-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Prefs Framework</li>
                            
                            <li>Renderer</li>
                            
                            <li>UI Options</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>A recent valiant attempt to refactor the UIOptions table of contents control to become fully declarative ran into a (very) long-standing renderer issue, the "tag singularity problem". In its current form, the renderer is unable to abstract over the difference between the cases where two cutpoints (as they now are) match two different markup nodes, and when they match the same one. Support has been provided for the "tag elision syntax" where a markup node whose renderer component had an ID beginning with the tilde character ~ would be elided from the finally rendered markup - however, this is somewhat cumbersome and still can't cover all the cases where singularity arises. <br>
This version of TableOfContents.js <a href="https://github.com/jobara/infusion/blob/fb9a364e4b5640ed667cc47cdbb1e76c28e11fc5/src/webapp/components/tableOfContents/js/TableOfContents.js">https://github.com/jobara/infusion/blob/fb9a364e4b5640ed667cc47cdbb1e76c28e11fc5/src/webapp/components/tableOfContents/js/TableOfContents.js</a> part of a branch for <a href="/browse/FLUID-4209/">FLUID-4209</a>, contains a "moral implementation" which should be possible to be supported. However, under the current system, the recursive call to "fluid.tableOfContents.level" fails - the markup appearing as follows:</p>
<p>&lt;ul class="flc-tocLevel-headingLevel"&gt;<br>
&lt;li class="flc-tocLevel-headingContainer"&gt;<br>
&lt;a class="flc-tocLevel-headingText"&gt;&lt;/a&gt;<br>
&lt;/li&gt;<br>
&lt;/ul&gt;</p>
<p>The intended effect is that a fresh instance of "level" can appear nested immediately after the "headingText" link, nested within the "headingContainer". Even with the "tag elision syntax" (which would require, for a start, some corruption of the markup with an unnecessary tag) this cannot be supported - since in this non-one-pass rendering case, the elided placeholder container could not then be the target of a decorator issued against the markup. </p>
<p>The best plan is to try to add explicit workflow for cases like these as part of the "Renderer antigens" work <a href="/browse/FLUID-4260/">FLUID-4260</a>, rather than complicate the core workflow of the renderer any further.</p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4260/"><span class="aria-hidden">←</span> Previous: FLUID-4260</a>
        <a class="mx-1" href="/browse/FLUID-4262/">Next: FLUID-4262 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>