<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5258  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5258 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5258/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5258/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5258/">FLUID-5258</a></li>
            </ol>
        </nav>
        <h1>FLUID-5258: distributeOptions behaviour is inconsistent with respect to expansion context</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5258">FLUID-5258</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2014-01-22T04:14:27.689-0500" prefix="">2014-01-22T04:14:27.689-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2019-11-28T16:00:37.875-0500" prefix="">2019-11-28T16:00:37.875-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The "headline requirement" for the distributeOptions system was to expand source material in the context of the source component and not the target component - this is because the initial role of the system was seen as "facade-forming" in that material received from external parties would be processed in a "black-box" way - external parties were not expected to be aware of the implementation details of the component to which options were forwarded and in fact shielding them from this knowledge was one of the primary goals of the system. Therefore expanding material in the source context was crucial and we went to some efforts to ensure this behaviour (which actually confused implementors initially) was implemented. Of course the aim was to trade off confusion to implementors against lack of surprise to end users.</p>
<p>However, since this initial implementation, two issues have arisen:</p>
<p>i) The expansion system as implemented is not fully consistent. Some material, especially that appearing in "listeners" arguments etc. is still always expanded in the target context, since this occurs by a custom workflow in the framework rather through general options expansion. This is an alarming inconsistency we need to think about and fix</p>
<p>ii) There may be architectural purposes for distributeOptions other than the one originally conceived which may make expansion in the target context the correct behaviour after all. We should watch our activities and try to characterise them - if there do seem to be legitimate purposes for this, and we decide to fix i) we should also consider adding configuration option "expandAtTarget" or so to the set available in distributeOptions to cater for this.</p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5257/"><span class="aria-hidden">←</span> Previous: FLUID-5257</a>
        <a class="mx-1" href="/browse/FLUID-5259/">Next: FLUID-5259 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>