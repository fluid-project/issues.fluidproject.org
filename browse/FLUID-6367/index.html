<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-6367  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-6367 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-6367/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-6367/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-6367/">FLUID-6367</a></li>
            </ol>
        </nav>
        <h1>FLUID-6367: createOnEvent subcomponent constructed during component's onCreate should be fully constructed on the spot</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-6367">FLUID-6367</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Colin Clark</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2019-01-28T11:57:13.956-0500" prefix="">2019-01-28T11:57:13.956-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2024-07-22T10:35:32.726-0400" prefix="">2024-07-22T10:35:32.726-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>3.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Framework</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>This problem didn't appear in any "released" version of the framework, but emerged as a hidden expectation by framework users as part of the <a href="/browse/FLUID-4982/">FLUID-4982</a> "asynchronous ginger world work" in <a href="https://github.com/fluid-project/infusion/pull/824">https://github.com/fluid-project/infusion/pull/824</a>&#160;. In the implementation of the InlineEdit component, there is the following implementation:</p>
<pre><code class="hljs language-java">fluid.inlineEdit.initializeEditView = function (that, initial) {
        <span class="hljs-keyword">if</span> (!that.editInitialized) {
            fluid.inlineEdit.renderEditContainer(that, !that.options.lazyEditView || !initial);            <span class="hljs-keyword">if</span> (!that.options.lazyEditView || !initial) {
                that.events.onCreateEditView.fire();                <span class="hljs-keyword">if</span> (that.textEditButton) {
                    fluid.inlineEdit.bindEditFinish(that);
                }
                fluid.inlineEdit.bindBlurHandler(that);
                that.editView.refreshView(that);
                that.editInitialized = <span class="hljs-literal">true</span>;
            }
        }
    };
</code></pre>
<p>The purpose here to enable lazy initialisation of the edit view in the case where its construction is something very expensive, e.g. a rich text editor. This function may be called both from the component's "onCreate" as well as being triggered by the "edit" operation.</p>
<p>In practice this is a terrible, old-fashioned reliance on long scads of imperative code and conditionals, but whilst we are continuing to build supports for the bridges between imperative and declarative modes of rendering and initialisation, we will have to do our best to support this idiom even though it will require a fair amount of special-casing in the promise sequencing in the new framework's commitPotentiae implementation.</p>
<p>Once "imaged components" and the new renderer are established and mature, we would be able to kick away the special-casing as a result of the reduced expectation of observability of the framework internals at odd workflow points. At this point we would ideally just remove the entire facility for "createOnEvent" components in favour of their model-driven alternatives.</p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-6366/"><span class="aria-hidden">←</span> Previous: FLUID-6366</a>
        <a class="mx-1" href="/browse/FLUID-6368/">Next: FLUID-6368 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>