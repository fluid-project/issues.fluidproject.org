<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-6610  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-6610 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-6610/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-6610/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-6610/">FLUID-6610</a></li>
            </ol>
        </nav>
        <h1>FLUID-6610: Panel index update through rendering can race against preference saving in separatedPanelPrefsEditor tests</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-6610">FLUID-6610</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Reopened</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2021-03-29T09:46:42.388-0400" prefix="">2021-03-29T09:46:42.388-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2024-07-17T08:10:19.293-0400" prefix="">2024-07-17T08:10:19.293-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Prefs Framework</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>As part of an entirely unrelated update purely affecting styling, a relatively consistent race was introduced in the SeparatedPanel prefs editor tests in <a href="https://github.com/fluid-project/infusion/pull/1042">https://github.com/fluid-project/infusion/pull/1042</a></p>
<p>This lost fairly consistently in Firefox on Ubuntu and sometimes on MacOS.</p>
<p>The "old" framework (prior to <a href="/browse/FLUID-6148/">FLUID-6148</a> update) would tend to race model updates on initialisation. In order to make the test reliable, we should restrict the test to only compare the part of the model that contains preferences -</p>
<p>e.g. to change this line <a href="https://github.com/fluid-project/infusion/blob/main/tests/framework-tests/preferences/js/SeparatedPanelPrefsEditorTests.js#L149">https://github.com/fluid-project/infusion/blob/main/tests/framework-tests/preferences/js/SeparatedPanelPrefsEditorTests.js#L149</a>&#160;to read</p>
<pre><code class="hljs language-java">jqUnit.assertDeepEq(<span class="hljs-string">"Only the changed preferences are saved"</span>, fluid.tests.prefs.bwSkin.preferences, storedSettings.preferences);
</code></pre>
<p></p>

            </div>
            
            
            
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-6609/"><span class="aria-hidden">←</span> Previous: FLUID-6609</a>
        <a class="mx-1" href="/browse/FLUID-6611/">Next: FLUID-6611 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>