<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4166  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4166 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4166/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4166/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4166/">FLUID-4166</a></li>
            </ol>
        </nav>
        <h1>FLUID-4166: instantiator.clearComponent() will fail to clear components which appear at multiple paths</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4166">FLUID-4166</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-03-30T02:00:53.477-0400" prefix="">2011-03-30T02:00:53.477-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-03-03T13:11:54.682-0500" prefix="">2014-03-03T13:11:54.682-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3.1</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>As a result of directly reusing the fluid.visitComponentChildren implementation from the core context resolution algorithm, instantiator.clearComponent() will cease traversal on encountering the SAME COMPONENT, rather than ceasing at the weaker condition of encountering the SAME PATH - in fact condition ii) will be met immediately following condition i) as the children of the "misplaced component" will be discovered at presumably already discovered paths. However, clearComponent() still requires to clear them even if they are not used as recursion points. THER CATTT agrees: "MRRAOURW"</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-14409">
                        <p class="mb-0"><b>y z</b> <i>commented <relative-time datetime="2011-03-31T10:16:23.797-0400">2011-03-31T10:16:23.797-0400</relative-time></i></p>
                        <p>Here's a pastie of a failing test: <a href="http://pastebin.com/96HYca6z">http://pastebin.com/96HYca6z</a><br>
Here's a code just in case:</p>
<p>fluid.defaults("fluid.tests.component4166", {<br>
gradeNames: ["fluid.littleComponent"],<br>
components: {<br>
instantiator: "{instantiator}"<br>
}<br>
});<br>
fluid.defaults("fluid.tests.component4166child", {<br>
gradeNames: ["fluid.littleComponent", "autoInit"],<br>
components: {<br>
instantiator: "{instantiator}"<br>
}<br>
});<br>
fluid.defaults("fluid.tests.component4166grandchild", {<br>
gradeNames: ["fluid.littleComponent", "autoInit"],<br>
components: {<br>
greatgrandchild: {<br>
type: "fluid.tests.component4166greatgrandchild"<br>
}<br>
}<br>
});<br>
fluid.defaults("fluid.tests.component4166greatgrandchild", {<br>
gradeNames: "fluid.littleComponent",<br>
components: {<br>
greatgreatgrandchild: {<br>
type: "fluid.tests.component4166greatgreatgrandchild"<br>
}<br>
}<br>
});<br>
fluid.defaults("fluid.tests.component4166greatgreatgrandchild", {<br>
gradeNames: ["fluid.littleComponent", "autoInit"]<br>
});<br>
fluid.tests.component4166greatgrandchild = function (options) {<br>
var that = fluid.initLittleComponent("fluid.tests.component4166greatgrandchild", options);<br>
fluid.initDependents(that);<br>
return that.greatgreatgrandchild;<br>
};</p>
<p>fluid.tests.component4166 = fluid.littleComponent("fluid.tests.component4166");</p>
<p>var testCreation = function (parent) {<br>
parent.options.components.child = {<br>
type: "fluid.tests.component4166child"<br>
};<br>
fluid.initDependent(parent, "child", parent.instantiator);<br>
jqUnit.assertValue("Child is created", parent.child);<br>
var child = parent.child;<br>
child.options.components.grandchild = {<br>
type: "fluid.tests.component4166grandchild"<br>
};<br>
fluid.initDependent(child, "grandchild", child.instantiator);<br>
jqUnit.assertValue("Grandchild is created", child.grandchild);<br>
jqUnit.assertValue("Greatgrandchild is created", child.grandchild.greatgrandchild);<br>
};</p>
<p>fluidIoCTests.test("<a href="/browse/FLUID-4166/">FLUID-4166</a> recreation after clear component", function() {<br>
var parent = fluid.tests.component4166();<br>
jqUnit.assertValue("Parent is created", parent);<br>
testCreation(parent);<br>
parent.instantiator.clearComponent(parent, "child");<br>
testCreation(parent);<br>
});</p>

                    </li>
                    
                    <li id="comment-14415">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2012-08-21T03:22:08.444-0400">2012-08-21T03:22:08.444-0400</relative-time></i></p>
                        <p>This was resolved at commit 47d38c9 which will land for the 1.5 release</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4165/"><span class="aria-hidden">←</span> Previous: FLUID-4165</a>
        <a class="mx-1" href="/browse/FLUID-4167/">Next: FLUID-4167 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>