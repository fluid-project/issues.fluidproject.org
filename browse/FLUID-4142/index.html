<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4142  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4142 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4142/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4142/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4142/">FLUID-4142</a></li>
            </ol>
        </nav>
        <h1>FLUID-4142: Expansion preservation is not honoured when full argument list appears in demands block</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4142">FLUID-4142</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Incomplete">Incomplete</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-03-14T04:13:31.320-0400" prefix="">2011-03-14T04:13:31.320-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-03-03T13:14:03.112-0500" prefix="">2014-03-03T13:14:03.112-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3.1</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Framework</li>
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Options, which, for example are marked as "noexpand" do not have this policy honoured if a full argument list is supplied in a demands block - for example:</p>
<p>Hi Antranig so these are the details:</p>
<p>my demands block:</p>
<p>fluid.demands("uploader", "cspace.recordEditor", ["{recordEditor}.dom.uploader", {<br>
options: {<br>
mergePaths: ["{options}", {<br>
model: "{recordEditor}.model",<br>
applier: "{recordEditor}.options.applier"<br>
}]<br>
}<br>
}]);</p>
<p>In this case, the material mentioned in "mergePaths" undergoes expansion, even though it is listed as one of the "core inviolable" nonexpanded paths in fluid.preserveFromExpansion</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-22895">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2011-03-14T04:38:06.996-0400">2011-03-14T04:38:06.996-0400</relative-time></i></p>
                        <p>A test case was constructed to test what it seemed like this bug was - but in fact there is not such a bug. The error is in the specification of the demands block supplied above, since the component options specified in the arguments to the demands block are corrupted by the extra key "options". When using the "full arguments form" of a demands block, the component's options are simply presented literally (in this case, as the 2nd argument). The "options" key is only used when breaking down the arguments list into the "pseudo-argument" form where keys are added directly to the demands block or subcomponent specification.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4140/"><span class="aria-hidden">←</span> Previous: FLUID-4140</a>
        <a class="mx-1" href="/browse/FLUID-4143/">Next: FLUID-4143 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>