<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4532  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4532 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4532/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4532/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4532/">FLUID-4532</a></li>
            </ol>
        </nav>
        <h1>FLUID-4532: Reorderer instantiated using IoC throws error when ariaLabeller tries to create liveRegion element</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4532">FLUID-4532</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Critical</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Anastasia%20Cheetham">Anastasia Cheetham</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-11-01T14:13:29.905-0400" prefix="">2011-11-01T14:13:29.905-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2012-01-20T16:48:41.217-0500" prefix="">2012-01-20T16:48:41.217-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Framework</li>
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>When a Reorderer component is created through the IoC system (as a subcomponent of something, as opposed to a direct call to the creator function), the act of moving an element results in an error. The error occurs in fluid.ariaLabeller.generateLiveElement(): 'that' is undefined. The generation of the live element occurs as part of fluid.updateAriaLabel(), which calls the ariaLabeller's update() function.</p>
<p>I'm not quite sure whether this an error in the IoC system, or in the ariaLabeller itself. Everything is fine when the reorderer is instantiated "manually" (as is the case in the demos).</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-4532/FLUID-4532.patch.txt">
                            
                                FLUID-4532.patch.txt
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-14305">
                        <p class="mb-0"><b>Anastasia Cheetham</b> <i>commented <relative-time datetime="2011-11-01T14:16:46.715-0400">2011-11-01T14:16:46.715-0400</relative-time></i></p>
                        <p>The attached patch (<a href="/browse/FLUID-4532/">FLUID-4532</a>.patch.txt) adds a unit test that provokes the error.</p>

                    </li>
                    
                    <li id="comment-14306">
                        <p class="mb-0"><b>Anastasia Cheetham</b> <i>commented <relative-time datetime="2011-11-01T14:24:21.676-0400">2011-11-01T14:24:21.676-0400</relative-time></i></p>
                        <p>I showed this problem to Yura, and he was actually surprised that in the "working" case (i.e. when the Reorderer is instantiated manually), the ariaLabeller makes onto the thatStack at all. I was also curious about that, and still can't figure it out.</p>

                    </li>
                    
                    <li id="comment-14307">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2011-11-13T02:37:30.475-0500">2011-11-13T02:37:30.475-0500</relative-time></i></p>
                        <p>This implementation should never have been using IoC - this looks like a grievous conceptual error left over from some cleanup after CSpace/1.3 work of late last year. As well as running into the <a href="/browse/FLUID-4192/">FLUID-4192</a> "broken trees" issue, this unacceptably exposes users of FluidView.js onto a dependence on the IoC system. It should be possible for anyone to use the aria labeller without including IoC - I have reverted the impl onto an old-fashioned "unicast" event for the time being which will still enable this strategy to be customised as per the apparent original intention.</p>
<p>To answer the previous conundrum, if there was not any instantiator allocated at the time the component was constructed, the framework would automatically bring one into existence (as part of the "withInstantiator" startup workflow) holding just the parent component (the aria labeller). This behaviour is clearly inconsistent, which is the reason for the <a href="/browse/FLUID-4192/">FLUID-4192</a> report in the first place. This will be cleared away as part of the <a href="/browse/FLUID-4392/">FLUID-4392</a> work.</p>

                    </li>
                    
                    <li id="comment-14309">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2012-01-20T16:48:41.215-0500">2012-01-20T16:48:41.215-0500</relative-time></i></p>
                        <p>Merged into the project repo at 1e7f0d8f071a69ef5d9cd75e18fc0fe3da170622 with several framework change issues:</p>
<p><a href="/browse/FLUID-4525/">FLUID-4525</a><br>
<a href="/browse/FLUID-4532/">FLUID-4532</a><br>
<a href="/browse/FLUID-4537/">FLUID-4537</a><br>
<a href="/browse/FLUID-4539/">FLUID-4539</a><br>
<a href="/browse/FLUID-4564/">FLUID-4564</a><br>
<a href="/browse/FLUID-4563/">FLUID-4563</a><br>
<a href="/browse/FLUID-4568/">FLUID-4568</a></p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4531/"><span class="aria-hidden">←</span> Previous: FLUID-4531</a>
        <a class="mx-1" href="/browse/FLUID-4534/">Next: FLUID-4534 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>