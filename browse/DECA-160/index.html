<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> DECA-160  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" DECA-160 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/DECA-160/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/DECA-160/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/DECA" data-pagefind-filter="project">Decapod</a></li>
                <li><a href="/browse/DECA-160/">DECA-160</a></li>
            </ol>
        </nav>
        <h1>DECA-160: matplotlib directory not writable causes stitching error</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/DECA-160">DECA-160</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/DECA/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/DECA/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/DECA/?reporter=Jonathan%20Hung">Jonathan Hung</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-07-28T15:04:48.790-0400" prefix="">2011-07-28T15:04:48.790-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2012-05-25T13:46:38.466-0400" prefix="">2012-05-25T13:46:38.466-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Capture</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>It seems that stitching aborts if the permissions on the ~/.matplotlib directory are not set properly. Work around would be to manually set permissions on the directory, but it would be nice if the permissions were set by the install script automatically.</p>
<p>The following error is displayed when attempting to run stitching with decapod-server.py:</p>
<p>Traceback (most recent call last):<br>
File "/usr/local/bin/decapod-stitching", line 5, in &lt;module&gt;<br>
from pylab import *<br>
File "/usr/lib/pymodules/python2.6/pylab.py", line 1, in &lt;module&gt;<br>
from matplotlib.pylab import *<br>
File "/usr/lib/pymodules/python2.6/matplotlib/_<em>init</em>_.py", line 711, in &lt;module&gt;<br>
rcParams = rc_params()<br>
File "/usr/lib/pymodules/python2.6/matplotlib/_<em>init</em>_.py", line 629, in rc_params<br>
fname = matplotlib_fname()<br>
File "/usr/lib/pymodules/python2.6/matplotlib/_<em>init</em>_.py", line 567, in matplotlib_fname<br>
fname = os.path.join(get_configdir(), 'matplotlibrc')<br>
File "/usr/lib/pymodules/python2.6/matplotlib/_<em>init</em>_.py", line 240, in wrapper<br>
ret = func(*args, **kwargs)<br>
File "/usr/lib/pymodules/python2.6/matplotlib/_<em>init</em>_.py", line 436, in _get_configdir<br>
raise RuntimeError("'%s' is not a writable dir; you must set %s/.matplotlib to be a writable dir.  You can also set environment variable MPLCONFIGDIR to any writable directory where you want matplotlib data stored "% (h, h))<br>
RuntimeError: '/home/fluid' is not a writable dir; you must set /home/fluid/.matplotlib to be a writable dir.  You can also set environment variable MPLCONFIGDIR to any writable directory where you want matplotlib data stored</p>
<p>[28/Jul/2011:14:29:09] HTTP Traceback (most recent call last):<br>
File "/usr/lib/pymodules/python2.6/cherrypy/_cprequest.py", line 606, in respond<br>
cherrypy.response.body = self.handler()<br>
File "/usr/lib/pymodules/python2.6/cherrypy/_cpdispatch.py", line 25, in _<em>call</em>_<br>
return self.callable(*self.args, **self.kwargs)<br>
File "decapod.py", line 78, in index<br>
pageSpread = self.capturePageSpread()<br>
File "decapod.py", line 48, in capturePageSpread<br>
stitchedPath = imageprocessing.stitch(firstMidPath, secondMidPath)<br>
File "/home/fluid/decapod/tip/decapod-server/imageprocessing.py", line 51, in stitch<br>
utils.invokeCommandSync(stitchCmd, ImageProcessingError, "An error occurred while trying to stitch images.")<br>
File "/home/fluid/decapod/tip/decapod-server/decapod_utilities.py", line 19, in invokeCommandSync<br>
raise error, message<br>
ImageProcessingError: An error occurred while trying to stitch images.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-10414">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2012-05-25T13:46:38.457-0400">2012-05-25T13:46:38.457-0400</relative-time></i></p>
                        <p>Stitching has been removed from the decapod 0.5 release</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/DECA-158/"><span class="aria-hidden">←</span> Previous: DECA-158</a>
        <a class="mx-1" href="/browse/DECA-161/">Next: DECA-161 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>