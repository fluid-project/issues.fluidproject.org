<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-6138  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-6138 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-6138/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-6138/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-6138/">FLUID-6138</a></li>
            </ol>
        </nav>
        <h1>FLUID-6138: Add missing files from /src to the /dist directory</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-6138">FLUID-6138</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Improvement">Improvement</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Open</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Alan%20Harnum">Alan Harnum</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2017-02-28T13:12:05.395-0500" prefix="">2017-02-28T13:12:05.395-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2024-07-22T09:16:29.990-0400" prefix="">2024-07-22T09:16:29.990-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Build Scripts</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>To make it possible to put UIO on a site without having to make a local build of Infusion, we should ensure that non-JS files from /src such as JSON message bundles and CSS are included in the /dist directory.</p>
<p>We can then cut a new release that will get picked up by CDNJS.</p>
<p>What exactly is to be done needs some further analysis; there is some discussion in #fluid-work starting around <a href="https://botbot.me/freenode/fluid-work/2017-02-28/?msg=81702056&page=1">https://botbot.me/freenode/fluid-work/2017-02-28/?msg=81702056&amp;page=1</a></p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-25583">
                        <p class="mb-0"><b>Alan Harnum</b> <i>commented <relative-time datetime="2017-02-28T13:14:29.339-0500">2017-02-28T13:14:29.339-0500</relative-time></i></p>
                        <p>CC Justin Obara Jonathan Hung</p>

                    </li>
                    
                    <li id="comment-25584">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2017-02-28T13:35:35.746-0500">2017-02-28T13:35:35.746-0500</relative-time></i></p>
                        <p>Perhaps we change the way the dist directory works. At the moment it really only contains things that are generated with the build ( i.e JS builds, compiled CSS ). However for things like the preferences framework there are additional artifacts that are required, such as html templates, JSON message bundles, other CSS dependencies, and etc. It had been assumed that these would just be sourced in place, which works okay for NPM builds, but seems to be an issue with the CDN. </p>
<p>Although for NPM this will result in duplication of resources between the src and dist directory.</p>

                    </li>
                    
                    <li id="comment-25585">
                        <p class="mb-0"><b>Alan Harnum</b> <i>commented <relative-time datetime="2017-02-28T13:47:36.520-0500">2017-02-28T13:47:36.520-0500</relative-time></i></p>
                        <p>We should (for CDN purposes) be able to source them in place by expanding the <strong>npmfilemap</strong> options at <a href="https://github.com/cdnjs/cdnjs/blob/master/ajax/libs/infusion/package.json#L13-L20">https://github.com/cdnjs/cdnjs/blob/master/ajax/libs/infusion/package.json#L13-L20</a></p>
<p>The <strong>npmfilemap</strong> configuration determines what files will be taken from the NPM tarball. Currently this takes all files from the /dist directory only, but we could change this and make a PR to them.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-6137/"><span class="aria-hidden">←</span> Previous: FLUID-6137</a>
        <a class="mx-1" href="/browse/FLUID-6139/">Next: FLUID-6139 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>