<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> ENGAGE-333  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" ENGAGE-333 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/ENGAGE-333/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/ENGAGE-333/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/ENGAGE" data-pagefind-filter="project">Fluid Engage</a></li>
                <li><a href="/browse/ENGAGE-333/">ENGAGE-333</a></li>
            </ol>
        </nav>
        <h1>ENGAGE-333: The Exhibtion About page throws an error on instantiation</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/ENGAGE-333">ENGAGE-333</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/ENGAGE/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Colin Clark</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?reporter=Colin%20Clark">Colin Clark</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2010-02-05T17:39:15.000-0500" prefix="">2010-02-05T17:39:15.000-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2020-11-12T07:37:22.369-0500" prefix="">2020-11-12T07:37:22.369-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3b</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3b</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Exhibitions</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Exhibition About is throwing an error upon page load. This is due to the fact that it is implemented using the same component as Exhibition View, which attempts to create a Navigation List for displaying catalogue information. However, the Exhibition About template doesn't have any catalogue information in it.</p>
<p>Since both data feeds share the same underlying representation of Exhibition models, ExhibitionView.js attempts to instantiate a NavList and bind it to the "catalogue" element in the page, even those Exhibition about.html doesn't have this information in it.</p>
<p>Here's the offending code:</p>
<pre><code class="hljs language-java"><span class="hljs-comment">// Render the Exhibition Preview component only if we have artifacts to preview.</span>
        <span class="hljs-keyword">if</span> (that.model.catalogueSize &gt; <span class="hljs-number">0</span> &amp;&amp; that.model.cataloguePreview) {
            <span class="hljs-comment">// Prepare model for NavList</span>
            <span class="hljs-type">var</span> <span class="hljs-variable">cataloguePreview</span> <span class="hljs-operator">=</span> fluid.transform(that.model.cataloguePreview, function (artifact) {
                <span class="hljs-keyword">return</span> {
                    target: artifact.target,
                    showBadge: artifact.media,
                    image: artifact.image,
                    title: artifact.title
                };
            });
            
            $.extend(that.options.exhibitionPreview.options, {model: cataloguePreview});
            that.exhibitionPreview = fluid.initSubcomponent(that, <span class="hljs-string">"exhibitionPreview"</span>, [
                that.locate(<span class="hljs-string">"catalogue"</span>), 
                fluid.COMPONENT_OPTIONS
            ]);
        }
</code></pre>
<p>We'll have to work around this whole issue temporarily by ensuring that catalogue information doesn't get included in the model supplied by the Exhibition About data feed. In the long run, we need to refactor both Exhibition View and About to separate their concerns, as outlined in <a href="/browse/ENGAGE-332/">ENGAGE-332</a></p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-11774">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2010-02-05T17:39:45.000-0500">2010-02-05T17:39:45.000-0500</relative-time></i></p>
                        <p>This issue is caused by the design error described in <a href="/browse/ENGAGE-332/">ENGAGE-332</a></p>

                    </li>
                    
                    <li id="comment-11775">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-02-24T12:21:00.000-0500">2010-02-24T12:21:00.000-0500</relative-time></i></p>
                        <p>The error has been fixed, the design related issue will be fixed in <a href="/browse/ENGAGE-332/">ENGAGE-332</a></p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/ENGAGE-332/"><span class="aria-hidden">←</span> Previous: ENGAGE-332</a>
        <a class="mx-1" href="/browse/ENGAGE-334/">Next: ENGAGE-334 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>