<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5145  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5145 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5145/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5145/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5145/">FLUID-5145</a></li>
            </ol>
        </nav>
        <h1>FLUID-5145: Boiled events can halt IoC Testing framework</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5145">FLUID-5145</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Not%20A%20Bug">Not A Bug</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2013-09-20T12:48:19.357-0400" prefix="">2013-09-20T12:48:19.357-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2014-03-03T11:28:32.696-0500" prefix="">2014-03-03T11:28:32.696-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>IoC System</li>
                            
                            <li>Testing Infrastructure</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Trying to test boiled events will halt at the test sequence where the listener is bound to the original event location. For example in the test setup below, the test will not continue past the first listener sequence.</p>
<p>fluid.defaults("fluid.tests.boiledEventTree", {<br>
gradeNames: ["fluid.test.testEnvironment", "autoInit"],<br>
components: {<br>
boiledEventComp: {<br>
type: "fluid.eventedComponent",<br>
options: {<br>
events: {<br>
testEvent: null<br>
},<br>
invokers: {<br>
trigger: {<br>
func: "{that}.events.testEvent.fire"<br>
}<br>
},<br>
components: {<br>
child: {<br>
type: "fluid.eventedComponent",<br>
options: {<br>
events: {<br>
testEvent: null<br>
},<br>
listeners: {<br>
"{boiledEventComp}.events.testEvent": {<br>
listener: "{that}.events.testEvent"<br>
}<br>
}<br>
}<br>
}<br>
}<br>
}<br>
},<br>
boiledEventTester: {<br>
type: "fluid.tests.boiledEventTester"<br>
}<br>
}<br>
});</p>
<p>fluid.defaults("fluid.tests.boiledEventTester", {<br>
gradeNames: ["fluid.test.testCaseHolder", "autoInit"],<br>
modules: [ {<br>
name: "Boiled Event test case",<br>
tests: [{<br>
name: "Boiled Event sequence",<br>
expect: 2,<br>
sequence: [{<br>
func: "{boiledEventComp}.trigger"<br>
}, {<br>
listener: "fluid.tests.checkEvent",<br>
event: "{boiledEventComp}.events.testEvent"<br>
}, {<br>
listener: "fluid.tests.checkEvent",<br>
event: "{boiledEventComp}.child.events.testEvent"<br>
}]<br>
}]<br>
}]<br>
});</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-20965">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2013-09-20T12:52:27.194-0400">2013-09-20T12:52:27.194-0400</relative-time></i></p>
                        <p>Sent a pull request with a test case demonstrating the issue.<br>
<a href="https://github.com/fluid-project/infusion/pull/407">https://github.com/fluid-project/infusion/pull/407</a></p>

                    </li>
                    
                    <li id="comment-20966">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2013-09-21T02:26:12.682-0400">2013-09-21T02:26:12.682-0400</relative-time></i></p>
                        <p>This issue is not a fault, but caused by an inappropriate use of the IoC testing framework, which is primarily designed to assist with working with asynchronous sequences. From the pull request:</p>
<p>"The behaviour of these tests is essentially random, depending on the exact order that listeners are notified. As explained in the channel, the testing approach is invalid and the IoC testing fixture system should only be used for asynchronous events with a definite ordering, not for synchronous events for which the sequence is arbitrary."</p>
<p>Also see IRC discussion from today at <a href="http://wiki.fluidproject.org/display/fluid/fluid-work+IRC+Logs-2013-09-20">http://wiki.fluidproject.org/display/fluid/fluid-work+IRC+Logs-2013-09-20</a></p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5144/"><span class="aria-hidden">←</span> Previous: FLUID-5144</a>
        <a class="mx-1" href="/browse/FLUID-5146/">Next: FLUID-5146 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>