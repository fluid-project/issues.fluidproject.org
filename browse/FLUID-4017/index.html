<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4017  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4017 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4017/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4017/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4017/">FLUID-4017</a></li>
            </ol>
        </nav>
        <h1>FLUID-4017: Total file progress information is inaccurate when uploading files with the HTML 5 version of Uploader</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4017">FLUID-4017</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Colin Clark</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Colin%20Clark">Colin Clark</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2010-12-22T17:32:11.428-0500" prefix="">2010-12-22T17:32:11.428-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2011-02-07T11:25:23.579-0500" prefix="">2011-02-07T11:25:23.579-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.3.1</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Uploader</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The Uploader currently shows inaccurate or inconsistent information in the total file progress area to the left of the "Add More" button. This is due to the fact that uploads occur concurrently, while there are a number of Flash-era assumptions in the code that files will always be uploaded in a one-by-one manner.</p>
<p>This should be fixed by either ensuring that uploads occur synchronously, or preferably by rewriting the state management code to handle asynchronous, concurrent file uploads.</p>

            </div>
            
            <div class="spacing-y-1">
                <h2>Environments</h2>
                <p>Firefox 4, Safari 5, and Chrome</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-4017/FLUID-4017.patch">
                            
                                FLUID-4017.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-4017/FLUID-4017-b.patch">
                            
                                FLUID-4017-b.patch
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-4017/renameRemoteStart.patch">
                            
                                renameRemoteStart.patch
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-17744">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-01-27T10:58:48.080-0500">2011-01-27T10:58:48.080-0500</relative-time></i></p>
                        <p>Fixed the HTML5 so that files are uploaded synchronously.  The uploader events were initially chained for synchronous uploading, however, we introduced asynchronous uploading when the HTML5 multi-file uploader was created.  We just needed to remove our loop to iterate through all the files to upload and we were back in business.  We may want to re-introduce this feature once all A-grade browsers support HTML5 multi-file uploading.  </p>

                    </li>
                    
                    <li id="comment-17747">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-01-27T11:03:04.227-0500">2011-01-27T11:03:04.227-0500</relative-time></i></p>
                        <p>This patch also fixes <a href="/browse/FLUID-4018/">FLUID-4018</a>.  There is now a natural break between files being uploaded due to synchronous uploading which allows the stop button to do it's work.  </p>

                    </li>
                    
                    <li id="comment-17749">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-01-27T11:03:30.732-0500">2011-01-27T11:03:30.732-0500</relative-time></i></p>
                        <p>Awaiting code review and commit</p>

                    </li>
                    
                    <li id="comment-17752">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2011-01-27T19:25:50.584-0500">2011-01-27T19:25:50.584-0500</relative-time></i></p>
                        <p>Hey Mike,</p>
<p>I think you've got it pretty much solved with your patch. One simplification: the FileQueue's current batch object contains a property called fileIdx, which gets incremented each time FileQueue.startFile() gets called. I'm assuming that this is probably the same value as the that.fileToUpload property you are storing in the Uploader's HTML5 remote strategy. Maybe use it instead?</p>

                    </li>
                    
                    <li id="comment-17754">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-01-28T12:25:29.032-0500">2011-01-28T12:25:29.032-0500</relative-time></i></p>
                        <p>Use the current batch's fileIdx value instead of attaching another counting variable to the model.</p>

                    </li>
                    
                    <li id="comment-17756">
                        <p class="mb-0"><b>Mike Lam</b> <i>commented <relative-time datetime="2011-01-28T13:22:45.971-0500">2011-01-28T13:22:45.971-0500</relative-time></i></p>
                        <p>Rename the remote start() function to uploadNextFile() to be more descriptive of its actual purpose.</p>

                    </li>
                    
                    <li id="comment-17758">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2011-02-07T11:24:58.557-0500">2011-02-07T11:24:58.557-0500</relative-time></i></p>
                        <p>I pushed Mike's main patch to the project repo at revision 243968bbb34175706916 and a modified version of his renaming patch at revision c865c45c503c43df7141. Fixed for 1.3.1</p>

                    </li>
                    
                    <li id="comment-17761">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2011-02-07T11:25:23.571-0500">2011-02-07T11:25:23.571-0500</relative-time></i></p>
                        <p>Fixed for 1.3.1</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4016/"><span class="aria-hidden">←</span> Previous: FLUID-4016</a>
        <a class="mx-1" href="/browse/FLUID-4018/">Next: FLUID-4018 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>