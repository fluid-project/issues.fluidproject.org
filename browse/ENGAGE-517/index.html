<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> ENGAGE-517  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" ENGAGE-517 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/ENGAGE-517/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/ENGAGE-517/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/ENGAGE" data-pagefind-filter="project">Fluid Engage</a></li>
                <li><a href="/browse/ENGAGE-517/">ENGAGE-517</a></li>
            </ol>
        </nav>
        <h1>ENGAGE-517: Implement a refresh method for cabinet</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/ENGAGE-517">ENGAGE-517</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?type=Task">Task</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/ENGAGE/?resolution=Won't%20Fix">Won't Fix</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Justin Obara</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/ENGAGE/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2010-03-17T12:05:18.000-0400" prefix="">2010-03-17T12:05:18.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2017-12-22T09:44:32.233-0500" prefix="">2017-12-22T09:44:32.233-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.3</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Cabinet</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Implement a refresh method for cabinet</p>
<p>This should allow for the addition/removal of drawers and/or changing the contents of drawers</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-12676">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-17T12:05:31.000-0400">2010-03-17T12:05:31.000-0400</relative-time></i></p>
                        <p>Bug Parade Engage 0.3</p>

                    </li>
                    
                    <li id="comment-12677">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-22T13:16:07.000-0400">2010-03-22T13:16:07.000-0400</relative-time></i></p>
                        <p>Added a refreshView() function so that drawers can be added after init.</p>
<p>Unit tests covering this functionality have also been committed</p>

                    </li>
                    
                    <li id="comment-12679">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-24T10:10:29.000-0400">2010-03-24T10:10:29.000-0400</relative-time></i></p>
                        <p>Assigned to Antranig for review</p>

                    </li>
                    
                    <li id="comment-12681">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-03-25T08:55:06.000-0400">2010-03-25T08:55:06.000-0400</relative-time></i></p>
                        <p>Review  - i)  it might be worth considering the use of jQuery.live for the binding of click handlers rather than the more cumbersome unbind/bind combination in addClickEvent.<br>
Also, the existing naming of options "startOpen" has now become confusing since the option now applies to cases other than the initial state. I suggest that the two existing options "startOpen" and "openByDefault" be rationalised into a set that are clear about their expected time of action. I don't think the current implementation of "refreshView" is appropriate, since it will ignore any manual user interaction with the component and return the open/closed condition of all the drawers to the initial default. Instead, the refresh method should only alter the state of drawers which have been added since the last time it was called.</p>

                    </li>
                    
                    <li id="comment-12682">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-25T10:34:52.000-0400">2010-03-25T10:34:52.000-0400</relative-time></i></p>
                        <p>reopened based on Antranig's review</p>

                    </li>
                    
                    <li id="comment-12683">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-26T12:21:06.000-0400">2010-03-26T12:21:06.000-0400</relative-time></i></p>
                        <p>Reimplemented the refreshView method so that it now only affects newly added drawers, instead of also resetting existing drawers.</p>

                    </li>
                    
                    <li id="comment-12684">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-03-26T12:21:31.000-0400">2010-03-26T12:21:31.000-0400</relative-time></i></p>
                        <p>assigned to Antranig for review</p>

                    </li>
                    
                    <li id="comment-12685">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-03-30T19:07:10.000-0400">2010-03-30T19:07:10.000-0400</relative-time></i></p>
                        <p>Overall strategy is now looking good, with only some stylistic points:</p>
<p>i) The handler logic between addClickHandlers and addDrawerKeyNav is duplicated - this should be factored into a common handler function.<br>
ii) The exact semantic of which states are supported is ambiguous between these handlers, and the "drawerAdjust" function. The former considers that all states which are not "open" are closed, whereas the latter considers that there could be a 3rd option. This should be made consistent (preferably to the former model)<br>
iii) drawerAdjust should make use of structures to simplify the argument list downstream. Whenever argument lists extend beyond one or two members, consider consolidating them into a modern-style "options" structure. The inner body could/should look something like this:</p>
<p>var stateDrawerOptions = {<br>
open: {<br>
newStyle: "drawerOpen",<br>
oldStyle: "drawerClosed",<br>
ariaValue: "true"<br>
}<br>
closed: ... etc.</p>
<p>then later: <br>
var options = stateDrawerOptions[state];<br>
iv) Try to avoid the use of the "this" keyword wherever possible (which I think seems to be essentially everywhere) - for example, rather than (line 63) <br>
contents.each(function (idx) {<br>
$(this).attr({<br>
use contents.each(function( idx, element) {<br>
$(element).attr</p>
<p>v) As per previous comment, the <strong>exact</strong> expectations of each function which accepts arguments which represent DOM nodes should be documented, e.g. line 244</p>
<ul>
<li>@param {Object} drawer, a selector representing a single drawer<br>
the function actually accepts anything "jqueryable" and this is "probably" deliberate and so should be documented.</li>
</ul>
<p>vi) getDrawerState function (line 247) could more cleanly be written as</p>
<p>return that.model[fluid.getId(drawer)];<br>
(although note that in this case it will no longer accept selectors) - the guarding against "null" isn't really necessary.</p>
<p>vii) If you can still get hold of Jacob, it might be worth reviewing with him whether the open/closed CSS styles could be better represented with i) based style applied to all "drawer"s and ii) a single further one representing "open" drawers. This would simplify the class manipulation logic - it is a style I have seen used in other situations in the component set</p>

                    </li>
                    
                    <li id="comment-12686">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-03-31T14:07:31.000-0400">2010-03-31T14:07:31.000-0400</relative-time></i></p>
                        <p>Overnight I remembered the explanation that Jacob gave me, which I think was originally in the context of reorderer. He explained that given an element with "variable appearance" it was safer to organise its styles with the structure of a "base style" responsible for the coarse aspects of its appearance, with separate "state" based styles to tweak this for appropriate representation. The reason behind this is to avoid unappealing "flashes" in layout as styles are added and removed, since the element is "always" in a condition where its overall layout and size are roughly correct. This is more important on browsers which perform asynchronous layout such as Opera.</p>

                    </li>
                    
                    <li id="comment-12687">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2017-12-22T09:44:32.232-0500">2017-12-22T09:44:32.232-0500</relative-time></i></p>
                        <p>The repository has been archived.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/ENGAGE-516/"><span class="aria-hidden">←</span> Previous: ENGAGE-516</a>
        <a class="mx-1" href="/browse/ENGAGE-518/">Next: ENGAGE-518 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>