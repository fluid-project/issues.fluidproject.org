<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4711  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4711 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4711/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4711/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4711/">FLUID-4711</a></li>
            </ol>
        </nav>
        <h1>FLUID-4711: Action of fluid.clearComponent recursively clears all subcomponents from an injected tree</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4711">FLUID-4711</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2012-05-23T01:13:09.178-0400" prefix="">2012-05-23T01:13:09.178-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2012-08-06T00:28:56.598-0400" prefix="">2012-08-06T00:28:56.598-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>IoC System</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>GPII framework "requests.js" exposed this issue. At the lifecycle point of request end, that framework calls instantiator.clearComponent on the "request component" in order to clear it away. For a start, this is by default a very aggressive method which by default rips through all component found, recursively clearing their subcomponents - as well as removing them from both the "idToPath" and "pathToComponent" records. The former effect can be defeated by the rather messy extended signature using the "noModTree" option as in</p>
<p>instantiator.clearComponent(that, name, null, null, true);</p>
<p>but the idToPath effect cannot be defeated, which ends up corrupting the instantiators records, in the case the component had subcomponents which were injected from a larger scope (that is, "application scope" in Spring-speak). </p>
<p>This implementation needs to be improved in order to keep records of components which were delivered through direct injection rather than being constructed "in situ" by the action of initDependent, and to ensure that ONLY the pathToComponent record is cleared in this case. </p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-16372">
                        <p class="mb-0"><b>Colin Clark</b> <i>commented <relative-time datetime="2012-08-02T20:01:18.326-0400">2012-08-02T20:01:18.326-0400</relative-time></i></p>
                        <p>Reviewed and pushed to master at 67da204..722ba14</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4710/"><span class="aria-hidden">←</span> Previous: FLUID-4710</a>
        <a class="mx-1" href="/browse/FLUID-4712/">Next: FLUID-4712 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>