<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> DECA-225  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" DECA-225 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/DECA-225/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/DECA-225/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/DECA" data-pagefind-filter="project">Decapod</a></li>
                <li><a href="/browse/DECA-225/">DECA-225</a></li>
            </ol>
        </nav>
        <h1>DECA-225: Refactor the mountApp and startServer functions to make it easier to test with having to start the server</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/DECA-225">DECA-225</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/DECA/?type=Task">Task</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/DECA/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/DECA/?reporter=Justin%20Obara">Justin Obara</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2012-01-19T14:59:02.277-0500" prefix="">2012-01-19T14:59:02.277-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2012-05-18T14:19:36.223-0400" prefix="">2012-05-18T14:19:36.223-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>0.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Server</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Currently there is too much coupling between mountApp and startServer. To be able to start the server you have to mount an app and to be able to mount an app you have to get the resources from the startServer function. Move the resources into mountApp and return them, so that the startServer can use it. This will allow the unit test to just mount the app and not actually start the server. </p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-10473">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2012-01-19T15:31:45.443-0500">2012-01-19T15:31:45.443-0500</relative-time></i></p>
                        <p>I was able to remove the coupling by reverting to a similar style as was in effect before <a href="/browse/DECA-195/">DECA-195</a>, using cherrypy.engine.start instead of cherrypy.quickstart. I was able to prevent a return of <a href="/browse/DECA-195/">DECA-195</a> by subscribing to signal and console control handlers, and telling cherrypy to block with cherrypy.engine.block()</p>
<p>The changes are currently in my bitbucket repo<br>
<a href="https://bitbucket.org/jobara/decapod-server-rest">https://bitbucket.org/jobara/decapod-server-rest</a></p>
<p>The example that helped me<br>
<a href="http://groups.google.com/group/cherrypy-users/browse_thread/thread/b347284512e2c6c1?fwc=1">http://groups.google.com/group/cherrypy-users/browse_thread/thread/b347284512e2c6c1?fwc=1</a></p>

                    </li>
                    
                    <li id="comment-10474">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2012-01-20T08:22:28.632-0500">2012-01-20T08:22:28.632-0500</relative-time></i></p>
                        <p>Made a small update to only block when running in standalone. </p>
<p>See example: <a href="http://tools.cherrypy.org/wiki/ScgiWsgi">http://tools.cherrypy.org/wiki/ScgiWsgi</a></p>

                    </li>
                    
                    <li id="comment-10475">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2012-05-18T14:19:31.388-0400">2012-05-18T14:19:31.388-0400</relative-time></i></p>
                        <p>Merged into the project repo</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/DECA-224/"><span class="aria-hidden">←</span> Previous: DECA-224</a>
        <a class="mx-1" href="/browse/DECA-226/">Next: DECA-226 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>