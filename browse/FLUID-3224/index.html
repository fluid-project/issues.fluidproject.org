<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-3224  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-3224 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-3224/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-3224/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-3224/">FLUID-3224</a></li>
            </ol>
        </nav>
        <h1>FLUID-3224: If &lt;textarea&gt; autobound to non-existant model field, Renderer renders unclosed element</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-3224">FLUID-3224</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Blocker</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Anastasia Cheetham</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Anastasia%20Cheetham">Anastasia Cheetham</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2009-10-02T17:00:56.000-0400" prefix="">2009-10-02T17:00:56.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2010-04-13T12:01:53.000-0400" prefix="">2010-04-13T12:01:53.000-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.1</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.2</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Renderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>If a &lt;textarea&gt; element in the template is autobound to a field that happens to be absent from the data model, the Renderer renders the textarea, but doesn't close it - any subsequent markup is displayed by the browser as though it is the <strong>content</strong> of the textarea.</p>
<p>I'm not sure what the Renderer <strong>should</strong> be doing in this case, but the observed behaviour is quite disruptive: the rest of the page disappears!</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-23242">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2009-11-29T00:31:40.000-0500">2009-11-29T00:31:40.000-0500</relative-time></i></p>
                        <p>This was a surprisingly subtle issue, and <strong>only</strong> bites when the &lt;textarea&gt; element in the template has no content. It is related to the failure of XHTML documents in general to be invalid in many browser contexts - the emitted markup in this case was correct as XHTML, containing the text &lt;textarea/&gt; - however, when passing through the innerHTML mechanism of the browser, this was immediately degraded to &lt;textarea&gt; causing corruption of the rest of the document.<br>
The renderer now makes use of the "closed tags list" which is already present in the fastXmlPull library in order to determine what kind of markup to emit for tags with no content in fluidRenderer.dumpTemplateBody(). This is a slightly undesirable cross-reference but there is in all cases so far a dependence on this library anyway. The opportunity was taken to clean up fastXmlPull's use of global namespace which is reduced now to the two symbols "XMLP" and "SAXStrings". At some point we should review whether fastXmlPull should not be just brought formally under standard Fluid namespacing and version management.</p>

                    </li>
                    
                    <li id="comment-23243">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2009-11-30T09:26:48.000-0500">2009-11-30T09:26:48.000-0500</relative-time></i></p>
                        <p>Just wondering why there are a couple of lines commented out in the unit test.</p>

                    </li>
                    
                    <li id="comment-23244">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2010-02-09T19:53:38.000-0500">2010-02-09T19:53:38.000-0500</relative-time></i></p>
                        <p>I've added a comment in the test case explaining the reason for the alternative branch, during the work on <a href="/browse/FLUID-3493/">FLUID-3493</a>. For these two tests which have the potential to generate invalid markup, it is safer to test the raw text of the renderer output rather than the version after transfer through the DOM. I have factored out a "renderManually" utility function to make these kinds of tests easier to write, although this should be easier to achieve than it is with the current API.</p>

                    </li>
                    
                    <li id="comment-23245">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2010-02-10T09:28:14.000-0500">2010-02-10T09:28:14.000-0500</relative-time></i></p>
                        <p>Unit test all seem to be passing... handing this issue off to anastasia to ensure that it works in the context she discovered the issue.</p>

                    </li>
                    
                    <li id="comment-23246">
                        <p class="mb-0"><b>Anastasia Cheetham</b> <i>commented <relative-time datetime="2010-04-13T12:01:53.000-0400">2010-04-13T12:01:53.000-0400</relative-time></i></p>
                        <p>I can no longer reproduce this in the context in which I originally found it.</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-3223/"><span class="aria-hidden">←</span> Previous: FLUID-3223</a>
        <a class="mx-1" href="/browse/FLUID-3225/">Next: FLUID-3225 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>