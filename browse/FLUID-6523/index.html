<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-6523  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-6523 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-6523/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-6523/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-6523/">FLUID-6523</a></li>
            </ol>
        </nav>
        <h1>FLUID-6523: Selection Reader appears when empty areas are selected</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-6523">FLUID-6523</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Reopened</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>N/A</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Gregor%20Moss">Gregor Moss</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2020-06-30T15:26:15.207-0400" prefix="">2020-06-30T15:26:15.207-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2020-07-20T07:48:53.563-0400" prefix="">2020-07-20T07:48:53.563-0400</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        N/A
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Self Voicing</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The Selection Reader component of the Orator will show when empty text nodes are selected, even though there is nothing for it to play. In such cases, the Selection Reader should not appear. See the attached screenshots for examples of this.</p>
<p><strong>To reproduce:</strong></p>
<ol>
<li>Go to&#160;<a href="https://build.fluidproject.org/infusion/demos/orator/">https://build.fluidproject.org/infusion/demos/orator/</a></li>
<li>Click and hold with the mouse to select from the end of the word "selection." to the beginning of the "demo code" link</li>
</ol>
<p><strong>Expected:</strong></p>
<p>The Selection Reader should not appear</p>
<p><strong>Actual:</strong></p>
<p>The Selection Reader appears</p>
<hr>
<p><strong>Update 2020-07-15</strong></p>
<p>The majority of the issue has been solved in PR ( <a href="https://github.com/fluid-project/infusion/pull/1000">https://github.com/fluid-project/infusion/pull/1000</a>&#160;), though the originally-reported issue still persists: the demo page left pane still allows selection of the Selection Reader itself (as shown in the attachment "2020-06-30 Orator select bug 1.png").</p>

            </div>
            
            <div class="spacing-y-1">
                <h2>Environments</h2>
                <p>Windows 10 Pro v1909,<br>
Chrome 83,<br>
Infusion 3.0.0-dev.20191219T155607Z.32876d29c.FLUID-6145</p>

            </div>
            
            
            
            <div class="spacing-y-1">
                <h2>Attachments</h2>
                <ul class="spacing-y-1" role="list">
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-6523/2020-06-30 Orator select bug 1.png">
                            
                                <img src="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-6523/2020-06-30 Orator select bug 1.png" alt="2020-06-30 Orator select bug 1.png">
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-6523/2020-06-30 Orator select bug 2.png">
                            
                                <img src="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-6523/2020-06-30 Orator select bug 2.png" alt="2020-06-30 Orator select bug 2.png">
                            
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-6523/85486044-e121cf80-b597-11ea-9432-7d1e91da22a3.png">
                            
                                <img src="https://idrc.cachefly.net/issues.fluidproject.org/FLUID/FLUID-6523/85486044-e121cf80-b597-11ea-9432-7d1e91da22a3.png" alt="85486044-e121cf80-b597-11ea-9432-7d1e91da22a3.png">
                            
                        </a>
                    </li>
                    
                </ul>
            </div>
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-25262">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2020-07-16T08:52:58.334-0400">2020-07-16T08:52:58.334-0400</relative-time></i></p>
                        <p>I investigated the issue with the play button getting selected. Part of the problem here is that when the selection leaves the containing element the browser (Chrome) flips the selection to the play button. This happens as the next event, so there is no intermediate step where the selection has no selection or whitespace. It basically goes from selecting "selection." to "play". Therefore the button isn't removed before it has a chance to be selected.</p>
<p>Other potential solutions investigated:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/user-select">user-select</a>
<ul>
<li>Set user-select to none. While there is no visual selection of the play button text, and copying of the text is disabled, the selection from window.getSelection() still includes the play button text.</li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Selection/removeRange">Selection.removeRange()</a>
<ul>
<li>I am able to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Selection/containsNode">Selection.containsNode()</a> to determine if the play button is included in the selection. From there I am able to create a new Range to pass into the removeRange method. However, this doesn't remove the play button text from the selection. In looking at the example in the documentation it appears that you can only remove ranges that are already included in the selection. In the case illustrated here it is likely going to be a single range for the entire selection.</li>
</ul>
</li>
</ul>
<ul>
<li>Limit the selection to a specific element.
<ul>
<li>Window.getSelection() can only be called at the window/document level. We'd have to manually parse only the text that is within the specified container elements. This can be difficult when the selection starts/ends outside of our element and if it contains just a portion of a text node. Also it may be confusing for a user that only some of the selection is being read back. If we modify the selection there are other potential issues for the user, e.g visual styling, copying text, etc.</li>
</ul>
</li>
</ul>
<p></p>

                    </li>
                    
                    <li id="comment-25263">
                        <p class="mb-0"><b>Cindy Li</b> <i>commented <relative-time datetime="2020-07-16T15:46:00.200-0400">2020-07-16T15:46:00.200-0400</relative-time></i></p>
                        <p><a href="https://github.com/fluid-project/infusion/pull/1000">The pull request</a> that fixes the majority of this issue has been merged into the project repo master branch at <a href="https://github.com/fluid-project/infusion/commit/8d59c6ce77ed83a0c8c8c70f1195636cfcc02797">this commit</a>.</p>
<p>The remaining issue updated on 2020-07-15 stays open.</p>

                    </li>
                    
                    <li id="comment-25264">
                        <p class="mb-0"><b>Gregor Moss</b> <i>commented <relative-time datetime="2020-07-16T15:56:18.146-0400">2020-07-16T15:56:18.146-0400</relative-time></i></p>
                        <p>As requested in Cindy Li's comment on the current pull request (<a href="https://github.com/fluid-project/infusion/pull/1000#issuecomment-659468378">#1000</a>), the issue is reproducible in Windows 10 Pro v1909 using Chrome 83 and Edge 44. That's pre-Chromium Edge, though I suspect it also occurs in newer versions of Edge since it occurs in Chrome.</p>
<p>The reproduction steps are the same as are listed in the original description.</p>

                    </li>
                    
                    <li id="comment-25265">
                        <p class="mb-0"><b>Justin Obara</b> <i>commented <relative-time datetime="2020-07-20T07:48:53.560-0400">2020-07-20T07:48:53.560-0400</relative-time></i></p>
                        <p>It is still possible to select only the play button. See update 2020-07-15</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-6522/"><span class="aria-hidden">←</span> Previous: FLUID-6522</a>
        <a class="mx-1" href="/browse/FLUID-6524/">Next: FLUID-6524 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>