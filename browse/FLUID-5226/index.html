<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-5226  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-5226 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-5226/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-5226/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-5226/">FLUID-5226</a></li>
            </ol>
        </nav>
        <h1>FLUID-5226: fluid.isPlainObject() is not powerful to detect objects which are only exotic by virtue of constructor</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-5226">FLUID-5226</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Colin Clark</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2013-12-03T00:23:30.041-0500" prefix="">2013-12-03T00:23:30.041-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2017-02-27T15:49:14.547-0500" prefix="">2017-02-27T15:49:14.547-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>2.0</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Framework</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>The implementation of <a href="/browse/FLUID-5089/">FLUID-5089</a> greatly improved the framework's handling of "exotic objects" aka "nonplain objects" but the structure of JavaScript implementations prevents us easily going all the way in order to detect all kinds of objects which must be protected from corruption by the framework.</p>
<p>Right now this most obviously surfaces in "member" directives which produce component members which are only exotic by virtue of having a prototype or constructor property. These are produced by many common frameworks, e.g. express on node - and unlike the situation with "common options" they may not be protected by a mergePolicy since none can interpose directly in the framework's evaluation pathway. (check this: it may be possible to operate a workaround by applying a mergePolicy to members.xxxx). </p>
<p>Ultimately this can only be remedied by improving our implementation of fluid.isPlainObject - however, detecting nonstandard constructors is hard if not impossible to do in a way which is a) portable, b) performant, c) robust. In particular, varieties of IE &lt; 9 will throw an exception on accessing the constructor property of certain "host objects". Even if we can ditch this portability hazard, there is still a performance hazard - in that it is difficult to imagine a system which could performantly distinguish between a "plain object from another context" (e.g. an iframe or an npm context) and a "exotic object from this context" without a potentially expensive toString() operation. We need to spend a lot of time at some point sifting through all the alternatives and their performance characteristics and portability profiles. </p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-22514">
                        <p class="mb-0"><b>Antranig Basman</b> <i>commented <relative-time datetime="2015-08-20T10:06:21.511-0400">2015-08-20T10:06:21.511-0400</relative-time></i></p>
                        <p>Merged into trunk at revision 282f1a318718eed0b0ec060fb8b4ad254417fd7e</p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-5225/"><span class="aria-hidden">←</span> Previous: FLUID-5225</a>
        <a class="mx-1" href="/browse/FLUID-5227/">Next: FLUID-5227 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>