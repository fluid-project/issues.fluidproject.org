<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-scheme="light">
    <head>
        <title> FLUID-4537  | Fluid Project Issues Archive</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="Archive of Fluid Project issues from the JIRA issue tracker">
        <meta property="og:title" content=" FLUID-4537 |  Fluid Project Issues Archive">
        <meta property="og:description" content="Archive of Fluid Project issues">
        <meta property="og:locale" content="en">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://issues.fluidproject.org/browse/FLUID-4537/">
        <link rel="canonical" href="https://issues.fluidproject.org/browse/FLUID-4537/">


        <link rel="stylesheet" href="/assets/styles/style.css">

        
<script type="module" src="/assets/scripts/relative-time/bundle.js"></script>

    </head>
    <body class="page-issue">
        <header class="mt-3">
            <a class="skip-link" href="#main">Skip to Content</a>
            <nav aria-label="main menu">
                <menu>
                    <li><a rel="home" href="/">Home</a></li>
                    <li><a href="/search/">Search</a></li>
                </menu>
            </nav>
            
        <nav aria-label="breadcrumbs">
            <ol>
                <li><a rel="home" href="/">Home</a></li>
                <li><a href="/projects/FLUID" data-pagefind-filter="project">Fluid Infusion</a></li>
                <li><a href="/browse/FLUID-4537/">FLUID-4537</a></li>
            </ol>
        </nav>
        <h1>FLUID-4537: Failure to expand contextual EL references within prototrees that are not UIBound elements</h1>

        </header>
        <main id="main">
            
    <div id="content" class="content with-sidebar">
        <div class="spacing-y-1 bg-default">
            <h2>Metadata</h2>
            <dl>
                <div>
                    <dt>Source</dt>
                    <dd><a href="https://fluidproject.atlassian.net/browse/FLUID-4537">FLUID-4537</a></dd>
                </div>
                <div>
                    <dt>Type</dt>
                    <dd>
                        <a href="/projects/FLUID/?type=Bug">Bug</a>
                    </dd>
                </div>
                <div>
                    <dt>Priority</dt>
                    <dd>Major</dd>
                </div>
                <div>
                    <dt>Status</dt>
                    <dd>Closed</dd>
                </div>
                <div>
                    <dt>Resolution</dt>
                    <dd>
                            <a href="/projects/FLUID/?resolution=Fixed">Fixed</a>
                        
                    </dd>
                </div>
                <div>
                    <dt>Assignee</dt>
                    <dd>Antranig Basman</dd>
                </div>
                <div>
                    <dt>Reporter</dt>
                    <dd>
                        <a href="/projects/FLUID/?reporter=Antranig%20Basman">Antranig Basman</a>
                    </dd>
                </div>
                <div>
                    <dt>Created</dt>
                    <dd><relative-time datetime="2011-11-13T03:39:31.816-0500" prefix="">2011-11-13T03:39:31.816-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Updated</dt>
                    <dd><relative-time datetime="2012-01-20T16:48:57.655-0500" prefix="">2012-01-20T16:48:57.655-0500</relative-time></dd>
                </div>
                <div>
                    <dt>Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.4</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Fixed Versions</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>1.5</li>
                            
                        </ol>
                        
                    </dd>
                </div>
                <div>
                    <dt>Component</dt>
                    <dd>
                        
                        <ol role="list">
                            
                            <li>Renderer</li>
                            
                        </ol>
                        
                    </dd>
                </div>
            </dl>
        </div>

        <div>
            <div class="spacing-y-1">
                <h2>Description</h2>
                <p>Problem reported by the Jen Bourey: prototree material like the following:</p>
<p>protoTree: {<br>
expander: {<br>
type: "fluid.renderer.repeat",<br>
repeatID: "item",<br>
controlledBy: "feeds",<br>
pathAs: "item",<br>
tree: {<br>
title: "${{item}.title}",<br>
link: { target: "${{item}.link}", decorators: { attrs: { title: "${{item}.description}" } } },<br>
description: "${{item}.description}"<br>
}<br>
}<br>
}</p>
<p>has UIBound members like title, link, description expanded properly, whereas material sent to the attribute decorator via the "expandLight" pathway ends up destroyed. </p>
<p>This is as a result of a fault in the prototree expander - the custom "EL concatentation pathway" operated by code handing via "fetchEL" within makeProtoExpander is only operated from "expandBound". Any other material is handed to "expandLight" which just uses the default environmental fetcher (this was actually code hacked out of the IoC system as a kind of "generalisation" of the common requirements of the protoTree expander and the old historical "half-IoC" system in fluid Engage - but is not in fact used directly by any part of Fluid IoC itself despite being defined in that file).</p>
<p>The "default environmental fetcher" needs to be modified to allow the special strategy used in protoTree expansion to transform "parsed" context objects, consistently with the "fetchEL" strategy.</p>
<p>In the long term this pathway needs to be moved out of FluidIoC entirely and further rationalisation provided with context parsing expression.s</p>
<p>In the even longer term the protoTree expansion pathway needs to be "burned to the ground" entirely and replaced with pure IoC definitions.</p>

            </div>
            
            
            
            
            <div class="spacing-y-1">
                <h2>Comments</h2>
                <ul class="spacing-y-2" role="list">
                    
                    <li id="comment-22975">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2011-11-17T11:55:49.261-0500">2011-11-17T11:55:49.261-0500</relative-time></i></p>
                        <p>Merged into project repo at 4eae684f5f05c8a937869897fc749c8277c4522d</p>

                    </li>
                    
                    <li id="comment-22977">
                        <p class="mb-0"><b>Michelle D'Souza</b> <i>commented <relative-time datetime="2012-01-20T16:48:57.599-0500">2012-01-20T16:48:57.599-0500</relative-time></i></p>
                        <p>Merged into the project repo at 1e7f0d8f071a69ef5d9cd75e18fc0fe3da170622 with several framework change issues:</p>
<p><a href="/browse/FLUID-4525/">FLUID-4525</a><br>
<a href="/browse/FLUID-4532/">FLUID-4532</a><br>
<a href="/browse/FLUID-4537/">FLUID-4537</a><br>
<a href="/browse/FLUID-4539/">FLUID-4539</a><br>
<a href="/browse/FLUID-4564/">FLUID-4564</a><br>
<a href="/browse/FLUID-4563/">FLUID-4563</a><br>
<a href="/browse/FLUID-4568/">FLUID-4568</a></p>

                    </li>
                    
                </ul>
            </div>
            
        </div>
    </div>

        </main>
        <footer>
            
<nav aria-labelledby="pagination">
    <h2 class="visually-hidden">pagination</h2>
    <p class="flex">
        
        
        <a class="mx-1" href="/browse/FLUID-4536/"><span class="aria-hidden">←</span> Previous: FLUID-4536</a>
        <a class="mx-1" href="/browse/FLUID-4538/">Next: FLUID-4538 <span class="aria-hidden">→</span></a>
    </p>
</nav>

        </footer>
    </body>
</html>